# Allows you to create your own dynamic keys
# to be called in localization.
# defined_text -> this is it, we're defining the text
# text -> a discrete entry that can be picked to display in loc.
# trigger -> determines if a text entry will be picked or not.
# (The triggers need to be valid for the scope the key is called in
# (eg Root or From.From).)
# localization_key -> points to the localization key
# that'll be used if trigger passes

defined_text = {
    name = GetEnableAutoBuildTitle
    text = {
        trigger = {
          has_global_flag = autobuild_flag
        }
        localization_key = "autobuild_enabled_loc"
    }
	text = {
		localization_key = "autobuild_disabled_loc"
	}
}
defined_text = {
    name = GetGDPAmount
    text = {
        trigger = {
            set_temp_variable = { amount_temp = gdp_amount }
        }
        localization_key = "[GetAdjustedAmountNoSign]"
    }
}
defined_text = {
    name = GetGDPPerCapitaAmount
    text = {
        trigger = {
            set_temp_variable = { amount_temp = gdp_per_capita }
        }
        localization_key = "[GetAdjustedAmountNoSign]"
    }
}
defined_text = {
    name = GetYearlyGDPAmount
    text = {
        trigger = {
            set_temp_variable = { gdp_amount_temp = gdp_amount }
			check_variable = { gdp_amount_temp > 83333.333 }
            divide_temp_variable = { gdp_amount_temp = 1000000 }
			multiply_temp_variable = { gdp_amount_temp = 12 }
        }
        localization_key = "[?gdp_amount_temp]M"
    }
	text = {
        trigger = {
            set_temp_variable = { gdp_amount_temp = gdp_amount }
			check_variable = { gdp_amount_temp > 83.333 }
            divide_temp_variable = { gdp_amount_temp = 1000 }
			multiply_temp_variable = { gdp_amount_temp = 12 }
		}
        localization_key = "[?gdp_amount_temp]K"
    }
	text = {
        trigger = {
            set_temp_variable = { gdp_amount_temp = gdp_amount }
			multiply_temp_variable = { gdp_amount_temp = 12 }
		}
        localization_key = "[?gdp_amount_temp]"
    }
}
# General
	defined_text = { # GetAdjustedAmount - amount_temp
		name = GetAdjustedAmount
		text = {
			trigger = {
				check_variable = { amount_temp = 0 }
			}
			localization_key = "[?amount_temp|=1]"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { amount_temp > 99999.999 }
					check_variable = { amount_temp < -99999.999 }
				}
				set_temp_variable = { number_temp = amount_temp }
				divide_temp_variable = { number_temp = 1000 }
			}
			localization_key = "[?number_temp|=0]K"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { amount_temp > 9999.999 }
					check_variable = { amount_temp < -9999.999 }
				}
				set_temp_variable = { number_temp = amount_temp }
				divide_temp_variable = { number_temp = 1000 }
			}
			localization_key = "[?number_temp|=1]K"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { amount_temp > 999.999 }
					check_variable = { amount_temp < -999.999 }
				}
				set_temp_variable = { number_temp = amount_temp }
				divide_temp_variable = { number_temp = 1000 }
			}
			localization_key = "[?number_temp|=2]K"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { amount_temp > 99.999 }
					check_variable = { amount_temp < -99.999 }
				}
			}
			localization_key = "[?amount_temp|=0]"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { amount_temp > 9.999 }
					check_variable = { amount_temp < -9.999 }
				}
			}
			localization_key = "[?amount_temp|=1]"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { amount_temp > 0.999 }
					check_variable = { amount_temp < -0.999 }
				}
			}
			localization_key = "[?amount_temp|=2]"
		}
		text = {
			localization_key = "[?amount_temp|=3]"
		}
	}
	defined_text = { # GetAdjustedAmountNoSign - amount_temp
		name = GetAdjustedAmountNoSign
		text = {
			trigger = {
				check_variable = { amount_temp = 0 }
			}
			localization_key = "[?amount_temp|1]"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { amount_temp > 99999.999 }
					check_variable = { amount_temp < -99999.999 }
				}
				set_temp_variable = { number_temp = amount_temp }
				divide_temp_variable = { number_temp = 1000 }
			}
			localization_key = "[?number_temp|0]K"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { amount_temp > 9999.999 }
					check_variable = { amount_temp < -9999.999 }
				}
				set_temp_variable = { number_temp = amount_temp }
				divide_temp_variable = { number_temp = 1000 }
			}
			localization_key = "[?number_temp|1]K"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { amount_temp > 999.999 }
					check_variable = { amount_temp < -999.999 }
				}
				set_temp_variable = { number_temp = amount_temp }
				divide_temp_variable = { number_temp = 1000 }
			}
			localization_key = "[?number_temp|2]K"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { amount_temp > 99.999 }
					check_variable = { amount_temp < -99.999 }
				}
			}
			localization_key = "[?amount_temp|0]"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { amount_temp > 9.999 }
					check_variable = { amount_temp < -9.999 }
				}
			}
			localization_key = "[?amount_temp|1]"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { amount_temp > 0.999 }
					check_variable = { amount_temp < -0.999 }
				}
			}
			localization_key = "[?amount_temp|2]"
		}
		text = {
			localization_key = "[?amount_temp|3]"
		}
	}
	defined_text = { # GetAdjustedAmountThousandsNoSign - amount_temp
		name = GetAdjustedAmountThousandsNoSign
		text = {
			trigger = {
				check_variable = { amount_temp = 0 }
			}
			localization_key = "[?amount_temp|0]"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { amount_temp > 99999.999 }
					check_variable = { amount_temp < -99999.999 }
				}
				set_temp_variable = { number_temp = amount_temp }
				divide_temp_variable = { number_temp = 1000 }
			}
			localization_key = "[?number_temp|0]M"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { amount_temp > 9999.999 }
					check_variable = { amount_temp < -9999.999 }
				}
				set_temp_variable = { number_temp = amount_temp }
				divide_temp_variable = { number_temp = 1000 }
			}
			localization_key = "[?number_temp|1]M"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { amount_temp > 999.999 }
					check_variable = { amount_temp < -999.999 }
				}
				set_temp_variable = { number_temp = amount_temp }
				divide_temp_variable = { number_temp = 1000 }
			}
			localization_key = "[?number_temp|2]M"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { amount_temp > 99.999 }
					check_variable = { amount_temp < -99.999 }
				}
			}
			localization_key = "[?amount_temp|0]K"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { amount_temp > 9.999 }
					check_variable = { amount_temp < -9.999 }
				}
			}
			localization_key = "[?amount_temp|1]K"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { amount_temp > 0.999 }
					check_variable = { amount_temp < -0.999 }
				}
			}
			localization_key = "[?amount_temp|2]K"
		}
		text = {
			trigger = {
				set_temp_variable = { number_temp = amount_temp }
				multiply_temp_variable = { number_temp = 1000 }
			}
			localization_key = "[?number_temp|0]"
		}
	}
	defined_text = { # GetPositiveColor - amount_temp
		name = GetPositiveColor
		text = {
			trigger = {
				check_variable = { amount_temp > 0 }
			}
			localization_key = green_loc
		}
		text = {
			trigger = {
				check_variable = { amount_temp < 0 }
			}
			localization_key = red_loc
		}
		text = {
			localization_key = yellow_loc
		}
	}
	defined_text = { # GetPositiveAdjustedAmount - amount_temp
		name = GetPositiveAdjustedAmount
		text = {
			localization_key = "[GetPositiveColor][GetAdjustedAmount]"
		}
	}
	defined_text = { # GetIconFromV - v
		name = GetIconFromV
		text = {
			localization_key = "GFX_[?v.GetTokenKey]"
		}
	}
	defined_text = { # GetEmploymentIconFromPercent - percent_temp, 0-100
		name = GetEmploymentIconFromPercent
		text = {
			trigger = {
				check_variable = { percent_temp < 0.001 }
			}
			localization_key = "GFX_employment_icon_0"
		}
		text = {
			trigger = {
				check_variable = { percent_temp < 10 }
			}
			localization_key = "GFX_employment_icon_1"
		}
		text = {
			trigger = {
				check_variable = { percent_temp > 99.999 }
			}
			localization_key = "GFX_employment_icon_10"
		}
		text = {
			trigger = {
				check_variable = { percent_temp > 90 }
			}
			localization_key = "GFX_employment_icon_9"
		}
		text = {
			trigger = {
				divide_temp_variable = { percent_temp = 10 }
				round_temp_variable = percent_temp
			}
			localization_key = "GFX_employment_icon_[?percent_temp|0]"
		}
	}
#

#Currency Icon
    defined_text = {
        name = GetCurrencyButton
        text = {
            trigger = {
                currency_uses_dollar = yes
            }
            localization_key = "GFX_currency_dollar_button"
        }
        text = {
            trigger = {
                currency_uses_pound = yes
            }
            localization_key = "GFX_currency_pound_button"
        }
        text = {
            trigger = {
                currency_uses_euro = yes
            }
            localization_key = "GFX_currency_euro_button"
        }
        text = {
            trigger = {
                currency_uses_franc = yes
            }
            localization_key = "GFX_currency_franc_button"
        }
        text = {
            trigger = {
                currency_uses_ruble = yes
            }
            localization_key = "GFX_currency_ruble_button"
        }
        text = {
            trigger = {
                currency_uses_rupee = yes
            }
            localization_key = "GFX_currency_rupee_button"
        }
        text = {
            trigger = {
                currency_uses_yen = yes
            }
            localization_key = "GFX_currency_yen_button"
        }
        text = {
            trigger = {
                currency_uses_lira = yes
            }
            localization_key = "GFX_currency_lira_button"
        }
        text = {
            trigger = {
                currency_uses_mark = yes
            }
            localization_key = "GFX_currency_mark_button"
        }
        text = {
            trigger = {
                currency_uses_real = yes
            }
            localization_key = "GFX_currency_real_button"
        }
        text = {
            trigger = {
                currency_uses_bitcoin = yes
            }
            localization_key = "GFX_currency_bitcoin_button"
        }
        text = {
            trigger = {
                currency_uses_shekel = yes
            }
            localization_key = "GFX_currency_shekel_button"
        }
        text = {
            trigger = {
                currency_hegemon_pound = yes
            }
            localization_key = "GFX_currency_pound_button"
        }
        text = {
            trigger = {
                currency_hegemon_dollar = yes
            }
            localization_key = "GFX_currency_dollar_button"
        }
        text = {
            trigger = {
                currency_hegemon_euro = yes
            }
            localization_key = "GFX_currency_euro_button"
        }
        text = {
            trigger = {
                currency_hegemon_franc = yes
            }
            localization_key = "GFX_currency_franc_button"
        }
        text = {
            trigger = {
                currency_hegemon_ruble = yes
            }
            localization_key = "GFX_currency_ruble_button"
        }
        text = {
            trigger = {
                currency_hegemon_rupee = yes
            }
            localization_key = "GFX_currency_rupee_button"
        }
        text = {
            trigger = {
                currency_hegemon_yen = yes
            }
            localization_key = "GFX_currency_yen_button"
        }
        text = {
            trigger = {
                currency_hegemon_lira = yes
            }
            localization_key = "GFX_currency_lira_button"
        }
        text = {
            trigger = {
                currency_hegemon_mark = yes
            }
            localization_key = "GFX_currency_mark_button"
        }
        text = {
            trigger = {
                currency_hegemon_real = yes
            }
            localization_key = "GFX_currency_real_button"
        }
        text = {
            trigger = {
                currency_hegemon_bitcoin = yes
            }
            localization_key = "GFX_currency_bitcoin_button"
        }
        text = {
            trigger = {
                currency_hegemon_shekel = yes
            }
            localization_key = "GFX_currency_shekel_button"
        }
    }
    defined_text = {
        name = GetCurrencyIcon
        text = {
            trigger = {
                currency_uses_dollar = yes
            }
            localization_key = "GFX_currency_dollar"
        }
        text = {
            trigger = {
                currency_uses_pound = yes
            }
            localization_key = "GFX_currency_pound"
        }
        text = {
            trigger = {
                currency_uses_euro = yes
            }
            localization_key = "GFX_currency_euro"
        }
        text = {
            trigger = {
                currency_uses_franc = yes
            }
            localization_key = "GFX_currency_franc"
        }
        text = {
            trigger = {
                currency_uses_ruble = yes
            }
            localization_key = "GFX_currency_ruble"
        }
        text = {
            trigger = {
                currency_uses_rupee = yes
            }
            localization_key = "GFX_currency_rupee"
        }
        text = {
            trigger = {
                currency_uses_yen = yes
            }
            localization_key = "GFX_currency_yen"
        }
        text = {
            trigger = {
                currency_uses_lira = yes
            }
            localization_key = "GFX_currency_lira"
        }
        text = {
            trigger = {
                currency_uses_mark = yes
            }
            localization_key = "GFX_currency_mark"
        }
        text = {
            trigger = {
                currency_uses_real = yes
            }
            localization_key = "GFX_currency_real"
        }
        text = {
            trigger = {
                currency_uses_bitcoin = yes
            }
            localization_key = "GFX_currency_bitcoin"
        }
        text = {
            trigger = {
                currency_uses_shekel = yes
            }
            localization_key = "GFX_currency_shekel"
        }
        text = {
            trigger = {
                currency_hegemon_pound = yes
            }
            localization_key = "GFX_currency_pound"
        }
        text = {
            trigger = {
                currency_hegemon_dollar = yes
            }
            localization_key = "GFX_currency_dollar"
        }
        text = {
            trigger = {
                currency_hegemon_euro = yes
            }
            localization_key = "GFX_currency_euro"
        }
        text = {
            trigger = {
                currency_hegemon_franc = yes
            }
            localization_key = "GFX_currency_franc"
        }
        text = {
            trigger = {
                currency_hegemon_ruble = yes
            }
            localization_key = "GFX_currency_ruble"
        }
        text = {
            trigger = {
                currency_hegemon_rupee = yes
            }
            localization_key = "GFX_currency_rupee"
        }
        text = {
            trigger = {
                currency_hegemon_yen = yes
            }
            localization_key = "GFX_currency_yen"
        }
        text = {
            trigger = {
                currency_hegemon_lira = yes
            }
            localization_key = "GFX_currency_lira"
        }
        text = {
            trigger = {
                currency_hegemon_mark = yes
            }
            localization_key = "GFX_currency_mark"
        }
        text = {
            trigger = {
                currency_hegemon_real = yes
            }
            localization_key = "GFX_currency_real"
        }
        text = {
            trigger = {
                currency_hegemon_bitcoin = yes
            }
            localization_key = "GFX_currency_bitcoin"
        }
        text = {
            trigger = {
                currency_hegemon_shekel = yes
            }
            localization_key = "GFX_currency_shekel"
        }
    }
    defined_text = {
        name = GetCurrencyIconState
        text = {
            trigger = {
				owner = {
                	currency_uses_dollar = yes
				}
            }
            localization_key = "GFX_currency_dollar"
        }
        text = {
            trigger = {
				owner = {
                	currency_uses_pound = yes
				}
            }
            localization_key = "GFX_currency_pound"
        }
        text = {
            trigger = {
				owner = {
                	currency_uses_euro = yes
				}
            }
            localization_key = "GFX_currency_euro"
        }
        text = {
            trigger = {
				owner = {
                	currency_uses_franc = yes
				}
            }
            localization_key = "GFX_currency_franc"
        }
        text = {
            trigger = {
				owner = {
                	currency_uses_ruble = yes
				}
            }
            localization_key = "GFX_currency_ruble"
        }
        text = {
            trigger = {
				owner = {
                	currency_uses_rupee = yes
				}
            }
            localization_key = "GFX_currency_rupee"
        }
        text = {
            trigger = {
				owner = {
                	currency_uses_yen = yes
				}
            }
            localization_key = "GFX_currency_yen"
        }
        text = {
            trigger = {
				owner = {
                	currency_uses_lira = yes
				}
            }
            localization_key = "GFX_currency_lira"
        }
        text = {
            trigger = {
				owner = {
                	currency_uses_mark = yes
				}
            }
            localization_key = "GFX_currency_mark"
        }
        text = {
            trigger = {
				owner = {
                	currency_uses_real = yes
				}
            }
            localization_key = "GFX_currency_real"
        }
        text = {
            trigger = {
				owner = {
                	currency_uses_bitcoin = yes
				}
            }
            localization_key = "GFX_currency_bitcoin"
        }
        text = {
            trigger = {
				owner = {
                	currency_uses_shekel = yes
				}
            }
            localization_key = "GFX_currency_shekel"
        }
        text = {
            trigger = {
				owner = {
                	currency_hegemon_pound = yes
				}
            }
            localization_key = "GFX_currency_pound"
        }
        text = {
            trigger = {
				owner = {
                	currency_hegemon_dollar = yes
				}
            }
            localization_key = "GFX_currency_dollar"
        }
        text = {
            trigger = {
				owner = {
                	currency_hegemon_euro = yes
				}
            }
            localization_key = "GFX_currency_euro"
        }
        text = {
            trigger = {
				owner = {
                	currency_hegemon_franc = yes
				}
            }
            localization_key = "GFX_currency_franc"
        }
        text = {
            trigger = {
				owner = {
                	currency_hegemon_ruble = yes
				}
            }
            localization_key = "GFX_currency_ruble"
        }
        text = {
            trigger = {
				owner = {
                	currency_hegemon_rupee = yes
				}
            }
            localization_key = "GFX_currency_rupee"
        }
        text = {
            trigger = {
				owner = {
                	currency_hegemon_yen = yes
				}
            }
            localization_key = "GFX_currency_yen"
        }
        text = {
            trigger = {
				owner = {
                	currency_hegemon_lira = yes
				}
            }
            localization_key = "GFX_currency_lira"
        }
        text = {
            trigger = {
				owner = {
                	currency_hegemon_mark = yes
				}
            }
            localization_key = "GFX_currency_mark"
        }
        text = {
            trigger = {
				owner = {
                	currency_hegemon_real = yes
				}
            }
            localization_key = "GFX_currency_real"
        }
        text = {
            trigger = {
				owner = {
                	currency_hegemon_bitcoin = yes
				}
            }
            localization_key = "GFX_currency_bitcoin"
        }
        text = {
            trigger = {
				owner = {
                	currency_hegemon_shekel = yes
				}
            }
            localization_key = "GFX_currency_shekel"
        }
    }
    defined_text = {
        name = GetCurrencyTextIcon
		text = {
            trigger = {
               has_variable = afr_prosperity_mechanic_value
            }
            localization_key = "currency_prosperity_texticon"
        }
        text = {
            trigger = {
                currency_uses_dollar = yes
            }
            localization_key = "currency_dollar_texticon"
        }
        text = {
            trigger = {
                currency_uses_pound = yes
            }
            localization_key = "currency_pound_texticon"
        }
        text = {
            trigger = {
                currency_uses_euro = yes
            }
            localization_key = "currency_euro_texticon"
        }
        text = {
            trigger = {
                currency_uses_franc = yes
            }
            localization_key = "currency_franc_texticon"
        }
        text = {
            trigger = {
                currency_uses_ruble = yes
            }
            localization_key = "currency_ruble_texticon"
        }
        text = {
            trigger = {
                currency_uses_rupee = yes
            }
            localization_key = "currency_rupee_texticon"
        }
        text = {
            trigger = {
                currency_uses_yen = yes
            }
            localization_key = "currency_yen_texticon"
        }
        text = {
            trigger = {
                currency_uses_lira = yes
            }
            localization_key = "currency_lira_texticon"
        }
        text = {
            trigger = {
                currency_uses_mark = yes
            }
            localization_key = "currency_mark_texticon"
        }
        text = {
            trigger = {
                currency_uses_real = yes
            }
            localization_key = "currency_real_texticon"
        }
        text = {
            trigger = {
                currency_uses_bitcoin = yes
            }
            localization_key = "currency_bitcoin_texticon"
        }
        text = {
            trigger = {
                currency_uses_shekel = yes
            }
            localization_key = "currency_shekel_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_pound = yes
            }
            localization_key = "currency_pound_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_dollar = yes
            }
            localization_key = "currency_dollar_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_euro = yes
            }
            localization_key = "currency_euro_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_franc = yes
            }
            localization_key = "currency_franc_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_ruble = yes
            }
            localization_key = "currency_ruble_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_rupee = yes
            }
            localization_key = "currency_rupee_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_yen = yes
            }
            localization_key = "currency_yen_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_lira = yes
            }
            localization_key = "currency_lira_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_mark = yes
            }
            localization_key = "currency_mark_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_real = yes
            }
            localization_key = "currency_real_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_bitcoin = yes
            }
            localization_key = "currency_bitcoin_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_shekel = yes
            }
            localization_key = "currency_shekel_texticon"
        }
    }
    defined_text = {
        name = GetCurrencyTextIconState
        #Note, when using this scripted loc, scope to the country
        text = {
            trigger = {
                owner = {
                    currency_uses_dollar = yes
                }
            }
            localization_key = "currency_dollar_texticon"
        }
        text = {
            trigger = {
                owner = {
                    currency_uses_pound = yes
                }
            }
            localization_key = "currency_pound_texticon"
        }
        text = {
            trigger = {
                owner = {
                    currency_uses_euro = yes
                }
            }
            localization_key = "currency_euro_texticon"
        }
        text = {
            trigger = {
                owner = {
                    currency_uses_franc = yes
                }
            }
            localization_key = "currency_franc_texticon"
        }
        text = {
            trigger = {
                owner = {
                    currency_uses_ruble = yes
                }
            }
            localization_key = "currency_ruble_texticon"
        }
        text = {
            trigger = {
                owner = {
                    currency_uses_rupee = yes
                }
            }
            localization_key = "currency_rupee_texticon"
        }
        text = {
            trigger = {
                owner = {
                    currency_uses_yen = yes
                }
            }
            localization_key = "currency_yen_texticon"
        }
        text = {
            trigger = {
                owner = {
                    currency_uses_lira = yes
                }
            }
            localization_key = "currency_lira_texticon"
        }
        text = {
            trigger = {
                owner = {
                    currency_uses_mark = yes
                }
            }
            localization_key = "currency_mark_texticon"
        }
        text = {
            trigger = {
                owner = {
                    currency_uses_real = yes
                }
            }
            localization_key = "currency_real_texticon"
        }
        text = {
            trigger = {
                owner = {
                    currency_uses_bitcoin = yes
                }
            }
            localization_key = "currency_bitcoin_texticon"
        }
        text = {
            trigger = {
                owner = {
                    currency_uses_shekel = yes
                }
            }
            localization_key = "currency_shekel_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_pound = yes
            }
            localization_key = "currency_pound_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_dollar = yes
            }
            localization_key = "currency_dollar_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_euro = yes
            }
            localization_key = "currency_euro_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_franc = yes
            }
            localization_key = "currency_franc_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_ruble = yes
            }
            localization_key = "currency_ruble_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_rupee = yes
            }
            localization_key = "currency_rupee_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_yen = yes
            }
            localization_key = "currency_yen_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_lira = yes
            }
            localization_key = "currency_lira_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_mark = yes
            }
            localization_key = "currency_mark_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_real = yes
            }
            localization_key = "currency_real_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_bitcoin = yes
            }
            localization_key = "currency_bitcoin_texticon"
        }
        text = {
            trigger = {
                currency_hegemon_shekel = yes
            }
            localization_key = "currency_shekel_texticon"
        }
    }
#

#Pie Chart
    defined_text = {
        name = GetValueToPopType
        text = {
            trigger = {
                state = 1
            }
            localization_key = "GFX_slaves_pie_chart_segment"
        }
        text = {
            trigger = {
                state = 2
            }
            localization_key = "GFX_peasants_pie_chart_segment"
        }
        text = {
            trigger = {
                state = 3
            }
            localization_key = "GFX_laborers_pie_chart_segment"
        }
        text = {
            trigger = {
                state = 4
            }
            localization_key = "GFX_workers_pie_chart_segment"
        }
        text = {
            trigger = {
                state = 5
            }
            localization_key = "GFX_professionals_pie_chart_segment"
        }
        text = {
            trigger = {
                state = 6
            }
            localization_key = "GFX_specialists_pie_chart_segment"
        }
        text = {
            trigger = {
                state = 7
            }
            localization_key = "GFX_aristocrats_pie_chart_segment"
        }
        text = {
            trigger = {
                state = 8
            }
            localization_key = "GFX_capitalists_pie_chart_segment"
        }
        text = {
            trigger = {
                state = 9
            }
            localization_key = "GFX_bureaucrats_pie_chart_segment"
        }
        text = {
            trigger = {
                state = 10
            }
            localization_key = "GFX_soldiers_pie_chart_segment"
        }
    }
#

#Pops
	defined_text = { # GetBaseWage
		name = GetBaseWage
		text = {
			trigger = {
				set_temp_variable = { amount_temp = base_wage }
			}
			localization_key = "[GetAdjustedAmountNoSign]"
		}
	}
	defined_text = { # GetEmployed
		name = GetEmployed
		text = {
			trigger = {
				set_temp_variable = { amount_temp = employed }
			}
			localization_key = "[GetAdjustedAmountThousandsNoSign]"
		}
	}
	defined_text = { # GetJobs
		name = GetJobs
		text = {
			trigger = {
				set_temp_variable = { amount_temp = jobs }
			}
			localization_key = "[GetAdjustedAmountThousandsNoSign]"
		}
	}
	defined_text = { # GetAvailableWorkforce
		name = GetAvailableWorkforce
		text = {
			trigger = {
				set_temp_variable = { amount_temp = available_workforce }
			}
			localization_key = "[GetAdjustedAmountThousandsNoSign]"
		}
	}
	defined_text = { # GetPopDividends
		name = GetPopDividends
		text = {
			trigger = {
				set_temp_variable = { amount_temp = aristocrats_dividends }
				add_to_temp_variable = { amount_temp = capitalists_dividends }
			}
			localization_key = "[GetPositiveAdjustedAmount]"
		}
	}
	defined_text = { # GetAristocratsDividends
		name = GetAristocratsDividends
		text = {
			trigger = {
				set_temp_variable = { amount_temp = aristocrats_dividends }
			}
			localization_key = "[GetPositiveAdjustedAmount]"
		}
	}
	defined_text = { # GetCapitalistsDividends
		name = GetCapitalistsDividends
		text = {
			trigger = {
				set_temp_variable = { amount_temp = capitalists_dividends }
			}
			localization_key = "[GetPositiveAdjustedAmount]"
		}
	}
#

#Industries
    defined_text = {
        name = GetIndustrialCapacityText
        text = {
            trigger = {
                check_variable = { industrial_capacity_use > industrial_capacity }
            }
            localization_key = "industrial_capacity_over_loc"
        }
        text = {
            localization_key = "industrial_capacity_under_loc"
        }
    }

	defined_text = { # GetIndustryBaseWorkforceRequirement
		name = GetIndustryBaseWorkforceRequirement
		text = {
			trigger = {
				set_temp_variable = { bwr_temp = global.building_base_employees@var:v }
				multiply_temp_variable = { bwr_temp = size@var:v }
			}
			localization_key = "[?bwr_temp]K"
		}
	}

	defined_text = { # GetIndustryPMIcon
		name = GetIndustryPMIcon
		text = {
			localization_key = "GFX_[?production_method@var:v.GetTokenKey]"
		}
	}
	defined_text = { # GetIndustryPMTooltip
		name = GetIndustryPMTooltip
		text = {
			localization_key = "GFX_[?production_method@var:v.GetTokenKey]"
		}
	}
	defined_text = { # GetIndustryAMIcon
		name = GetIndustryAMIcon
		text = {
			localization_key = "GFX_[?automation_method@var:v.GetTokenKey]"
		}
	}
	defined_text = { # GetIndustryEmploymentIcon
		name = GetIndustryEmploymentIcon
		text = {
			trigger = {
				set_temp_variable = { percent_temp = employment_percentage@var:v }
			}
			localization_key = "[GetEmploymentIconFromPercent]"
		}
	}
	defined_text = { # GetIndustrySize
		name = GetIndustrySize
		text = {
			trigger = {
				check_variable = { construction@var:v = 0 }
			}
			localization_key = "[?size@var:v]"
		}
		text = {
			localization_key = industry_size_construction_loc
		}
	}

	# Industry PMs
		defined_text = { # GetIndustryPMTotalLoc - v
			name = GetIndustryPMTotalLoc
			text = {
				trigger = {
					set_temp_variable = { am_check = 0 }
					set_temp_variable = { industry_token = v }
				}
				localization_key = industry_pm_total_loc
			}
		}
		defined_text = { # GetIndustryOutputLoc - industry_token, pm_output_i
			name = GetIndustryOutputLoc
			text = {
				trigger = {
					set_temp_variable = { pm_output_temp = global.building_base_production@var:industry_token^pm_output_i }
					set_temp_variable = { amount_temp = production@var:industry_token^pm_output_i }

					check_variable = { pm_output_i < global.building_base_production@var:industry_token^num }
					NOT = { check_variable = { amount_temp = 0 } }
				}
				localization_key = industry_pm_output_loc
			}
		}
		defined_text = { # GetIndustryOutputTextIcon - pm_output_temp
			name = GetIndustryOutputTextIcon
			text = {
				localization_key = "GFX_[?pm_output_temp.GetTokenKey]_texticon"
			}
		}
		defined_text = { # GetIndustryOutputRevenue - industry_token, pm_output_i
			name = GetIndustryOutputRevenue
			text = {
				trigger = {
					set_temp_variable = { amount_temp = revenue_goods@var:industry_token^pm_output_i }
				}
				localization_key = "[GetRevenueAmount]"
			}
		}
		defined_text = { # GetIndustryOutput0Loc - industry_token
			name = GetIndustryOutput0Loc
			text = {
				trigger = {
					set_temp_variable = { pm_output_i = 0 }
				}
				localization_key = "[GetIndustryOutputLoc]"
			}
		}
		defined_text = { # GetIndustryOutput1Loc - industry_token
			name = GetIndustryOutput1Loc
			text = {
				trigger = {
					set_temp_variable = { pm_output_i = 1 }
				}
				localization_key = "[GetIndustryOutputLoc]"
			}
		}
		defined_text = { # GetIndustryOutput2Loc - industry_token
			name = GetIndustryOutput2Loc
			text = {
				trigger = {
					set_temp_variable = { pm_output_i = 2 }
				}
				localization_key = "[GetIndustryOutputLoc]"
			}
		}
		defined_text = { # GetIndustryOutput3Loc - industry_token
			name = GetIndustryOutput3Loc
			text = {
				trigger = {
					set_temp_variable = { pm_output_i = 3 }
				}
				localization_key = "[GetIndustryOutputLoc]"
			}
		}
		defined_text = { # GetIndustryOutput4Loc - industry_token
			name = GetIndustryOutput4Loc
			text = {
				trigger = {
					set_temp_variable = { pm_output_i = 4 }
				}
				localization_key = "[GetIndustryOutputLoc]"
			}
		}
		defined_text = { # GetIndustryIndustrialCapacityLoc - industry_token
			name = GetIndustryIndustrialCapacityLoc
			text = {
				trigger = {
					set_temp_variable = { amount_temp = industrial_capacity@var:industry_token }
					NOT = { check_variable = { amount_temp = 0 } }
				}
				localization_key = "industry_pm_industrial_capacity_loc"
			}
		}
		defined_text = { # GetIndustryIndustrialCapacityRevenue - industry_token
			name = GetIndustryIndustrialCapacityRevenue
			text = {
				trigger = {
					set_temp_variable = { amount_temp = revenue_industrial_capacity@var:industry_token }
				}
				localization_key = "[GetRevenueAmount]"
			}
		}
		defined_text = { # GetIndustryShippingCapacityLoc - industry_token
			name = GetIndustryShippingCapacityLoc
			text = {
				trigger = {
					set_temp_variable = { amount_temp = shipping_capacity@var:industry_token }
					NOT = { check_variable = { amount_temp = 0 } }
				}
				localization_key = "industry_pm_shipping_capacity_loc"
			}
		}
		defined_text = { # GetIndustryShippingCapacityRevenue - industry_token
			name = GetIndustryShippingCapacityRevenue
			text = {
				trigger = {
					set_temp_variable = { amount_temp = revenue_shipping_capacity@var:industry_token }
				}
				localization_key = "[GetRevenueAmount]"
			}
		}
		defined_text = { # GetIndustryInputLoc - industry_token, pm_input_i
			name = GetIndustryInputLoc
			text = {
				trigger = {
					set_temp_variable = { pm_input_temp = input@var:industry_token^pm_input_i }
					set_temp_variable = { amount_temp = input_amount@var:industry_token^pm_input_i }
					set_temp_variable = { pm_amount_temp = input_cost@var:industry_token^pm_input_i }

					check_variable = { pm_input_i < input@var:industry_token^num }
					NOT = { check_variable = { pm_amount_temp = 0 } }
				}
				localization_key = industry_pm_input_loc
			}
		}
		defined_text = { # GetIndustryInputCost - industry_token, pm_input_i
			name = GetIndustryInputCost
			text = {
				trigger = {
					set_temp_variable = { amount_temp = input_cost@var:industry_token^pm_input_i }
				}
				localization_key = "[GetSpendingAmount]"
			}
		}
		defined_text = { # GetIndustryInput0Loc - industry_token
			name = GetIndustryInput0Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 0 }
				}
				localization_key = "[GetIndustryInputLoc]"
			}
		}
		defined_text = { # GetIndustryInput1Loc - industry_token
			name = GetIndustryInput1Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 1 }
				}
				localization_key = "[GetIndustryInputLoc]"
			}
		}
		defined_text = { # GetIndustryInput2Loc - industry_token
			name = GetIndustryInput2Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 2 }
				}
				localization_key = "[GetIndustryInputLoc]"
			}
		}
		defined_text = { # GetIndustryInput3Loc - industry_token
			name = GetIndustryInput3Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 3 }
				}
				localization_key = "[GetIndustryInputLoc]"
			}
		}
		defined_text = { # GetIndustryInput4Loc - industry_token
			name = GetIndustryInput4Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 4 }
				}
				localization_key = "[GetIndustryInputLoc]"
			}
		}
		defined_text = { # GetIndustryInput5Loc - industry_token
			name = GetIndustryInput5Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 5 }
				}
				localization_key = "[GetIndustryInputLoc]"
			}
		}
		defined_text = { # GetIndustryInput6Loc - industry_token
			name = GetIndustryInput6Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 6 }
				}
				localization_key = "[GetIndustryInputLoc]"
			}
		}
		defined_text = { # GetIndustryInput7Loc - industry_token
			name = GetIndustryInput7Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 7 }
				}
				localization_key = "[GetIndustryInputLoc]"
			}
		}
		defined_text = { # GetIndustryInput8Loc - industry_token
			name = GetIndustryInput8Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 8 }
				}
				localization_key = "[GetIndustryInputLoc]"
			}
		}
		defined_text = { # GetIndustryInput9Loc - industry_token
			name = GetIndustryInput9Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 9 }
				}
				localization_key = "[GetIndustryInputLoc]"
			}
		}
		defined_text = { # GetIndustryInput10Loc - industry_token
			name = GetIndustryInput10Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 10 }
				}
				localization_key = "[GetIndustryInputLoc]"
			}
		}
		defined_text = { # GetIndustryIndustrialCapacityUseLoc - industry_token
			name = GetIndustryIndustrialCapacityUseLoc
			text = {
				trigger = {
					set_temp_variable = { amount_temp = industrial_capacity_use@var:industry_token }
					NOT = { check_variable = { amount_temp = 0 } }
				}
				localization_key = industry_pm_industrial_capacity_use_loc
			}
		}
		defined_text = { # GetIndustryIndustrialCapacityUseCost - industry_token
			name = GetIndustryIndustrialCapacityUseCost
			text = {
				trigger = {
					set_temp_variable = { amount_temp = expenses_industrial_capacity@var:industry_token }
					NOT = { check_variable = { amount_temp = 0 } }
				}
				localization_key = "[GetSpendingAmount]"
			}
		}

		defined_text = { # GetIndustryPMLoc - v
			name = GetIndustryPMLoc
			text = {
				trigger = {
					set_temp_variable = { am_check = 0 }
					set_temp_variable = { pm_temp = production_method@var:v }
					set_temp_variable = { industry_token = v }
				}
				localization_key = "[GetPMLoc]"
			}
		}
		defined_text = { # GetIndustryAMLoc - v
			name = GetIndustryAMLoc
			text = {
				trigger = {
					set_temp_variable = { am_check = 1 }
					set_temp_variable = { pm_temp = automation_method@var:v }
					set_temp_variable = { industry_token = v }
				}
				localization_key = "[GetPMLoc]"
			}
		}
	#
	# Construction
		defined_text = { # GetIndustryConstruction - v
			name = GetIndustryConstruction
			text = {
				trigger = {
					set_temp_variable = { industry_token = v }
					set_temp_variable = { pm_temp = production_method@var:industry_token }
					set_temp_variable = { am_temp = automation_method@var:industry_token }
					NOT = { check_variable = { construction@var:v = 0 } }
				}
				localization_key = industry_construction_loc
			}
		}
		defined_text = { # GetIndustryConstructionTime - industry_token, pm_temp, am_temp
			name = GetIndustryConstructionTime
			text = {
				trigger = {
					set_temp_variable = { construction_time_temp = controller:pm_construction_duration@var:pm_temp }
					add_to_temp_variable = { construction_time_temp = controller:pm_construction_duration@var:am_temp }

					set_temp_variable = { modifier_temp = 1 }
					add_to_temp_variable = { modifier_temp = industry_construction_speed_factor }

					divide_temp_variable = { construction_time_temp = modifier_temp }
				}
				localization_key = "[?construction_time_temp|1]"
			}
		}
		defined_text = { # GetIndustryConstructionTimeLeft - industry_token
			name = GetIndustryConstructionTimeLeft
			text = {
				localization_key = "[?construction_time_left@var:industry_token|1]"
			}
		}
		defined_text = { # GetIndustryConstructionCost - industry_token
			name = GetIndustryConstructionCost
			text = {
				trigger = {
					set_temp_variable = { amount_temp = construction_cost@var:industry_token }
				}
				localization_key = "[GetSpendingAmount]"
			}
		}
		defined_text = { # GetIndustryConstructionInputLoc - industry_token, pm_input_i
			name = GetIndustryConstructionInputLoc
			text = {
				trigger = {
					set_temp_variable = { pm_input_temp = construction_resources@var:industry_token^pm_input_i }
					set_temp_variable = { amount_temp = construction_amount@var:industry_token^pm_input_i }
					set_temp_variable = { pm_amount_temp = construction_cost@var:industry_token^pm_input_i }

					check_variable = { pm_input_i < input@var:industry_token^num }
					NOT = { check_variable = { pm_amount_temp = 0 } }
				}
				localization_key = industry_construction_input_loc
			}
		}
		defined_text = { # GetIndustryConstructionInputCost - industry_token, pm_input_i
			name = GetIndustryConstructionInputCost
			text = {
				trigger = {
					set_temp_variable = { amount_temp = construction_cost@var:industry_token^pm_input_i }
				}
				localization_key = "[GetSpendingAmount]"
			}
		}
		defined_text = { # GetIndustryConstructionInput0Loc - industry_token
			name = GetIndustryConstructionInput0Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 0 }
				}
				localization_key = "[GetIndustryConstructionInputLoc]"
			}
		}
		defined_text = { # GetIndustryConstructionInput1Loc - industry_token
			name = GetIndustryConstructionInput1Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 1 }
				}
				localization_key = "[GetIndustryConstructionInputLoc]"
			}
		}
		defined_text = { # GetIndustryConstructionInput2Loc - industry_token
			name = GetIndustryConstructionInput2Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 2 }
				}
				localization_key = "[GetIndustryConstructionInputLoc]"
			}
		}
		defined_text = { # GetIndustryConstructionInput3Loc - industry_token
			name = GetIndustryConstructionInput3Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 3 }
				}
				localization_key = "[GetIndustryConstructionInputLoc]"
			}
		}
		defined_text = { # GetIndustryConstructionInput4Loc - industry_token
			name = GetIndustryConstructionInput4Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 4 }
				}
				localization_key = "[GetIndustryConstructionInputLoc]"
			}
		}
		defined_text = { # GetIndustryConstructionInput5Loc - industry_token
			name = GetIndustryConstructionInput5Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 5 }
				}
				localization_key = "[GetIndustryConstructionInputLoc]"
			}
		}
		defined_text = { # GetIndustryConstructionInput6Loc - industry_token
			name = GetIndustryConstructionInput6Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 6 }
				}
				localization_key = "[GetIndustryConstructionInputLoc]"
			}
		}
		defined_text = { # GetIndustryConstructionInput7Loc - industry_token
			name = GetIndustryConstructionInput7Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 7 }
				}
				localization_key = "[GetIndustryConstructionInputLoc]"
			}
		}
		defined_text = { # GetIndustryConstructionInput8Loc - industry_token
			name = GetIndustryConstructionInput8Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 8 }
				}
				localization_key = "[GetIndustryConstructionInputLoc]"
			}
		}
		defined_text = { # GetIndustryConstructionInput9Loc - industry_token
			name = GetIndustryConstructionInput9Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 9 }
				}
				localization_key = "[GetIndustryConstructionInputLoc]"
			}
		}
		defined_text = { # GetIndustryConstructionInput10Loc - industry_token
			name = GetIndustryConstructionInput10Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 10 }
				}
				localization_key = "[GetIndustryConstructionInputLoc]"
			}
		}

		defined_text = { # GetIndustryConstructionInvestmentCost - v
			name = GetIndustryConstructionInvestmentCost
			text = {
				trigger = {
					set_temp_variable = { industry_token = v }
					if = { limit = { has_variable = production_method@var:industry_token } set_temp_variable = { pm_temp = production_method@var:industry_token } }
					else = { set_temp_variable = { pm_temp = controller:latest_production_method@var:v } }
					if = { limit = { has_variable = automation_method@var:industry_token } set_temp_variable = { am_temp = automation_method@var:industry_token } }
					else = { set_temp_variable = { am_temp = controller:latest_automation_method@var:v } }
					get_construction_cost = yes

					multiply_temp_variable = { total_construction_cost_temp = global.start_construction_cost_multiplier }
					divide_temp_variable = { total_construction_cost_temp = ROOT.modifier@government_investment_efficiency_factor }
					set_temp_variable = { amount_temp = total_construction_cost_temp }
				}
				localization_key = "[GetSpendingAmount]"
			}
		}
		defined_text = { # GetIndustryConstructionTotalCost - v
			name = GetIndustryConstructionTotalCost
			text = {
				trigger = {
					set_temp_variable = { industry_token = v }
					if = { limit = { has_variable = production_method@var:industry_token } set_temp_variable = { pm_temp = production_method@var:industry_token } }
					else = { set_temp_variable = { pm_temp = controller:latest_production_method@var:v } }
					if = { limit = { has_variable = automation_method@var:industry_token } set_temp_variable = { am_temp = automation_method@var:industry_token } }
					else = { set_temp_variable = { am_temp = controller:latest_automation_method@var:v } }
					get_construction_cost = yes

					divide_temp_variable = { total_construction_cost_temp = ROOT.modifier@government_investment_efficiency_factor }
					set_temp_variable = { amount_temp = total_construction_cost_temp }
				}
				localization_key = "[GetSpendingAmount]"
			}
		}
		defined_text = { # GetIndustryConstructionProductivity - v
			name = GetIndustryConstructionProductivity
			text = {
				trigger = {
					set_temp_variable = { industry_token = v }
					if = { limit = { has_variable = production_method@var:industry_token } set_temp_variable = { pm_temp = production_method@var:industry_token } }
					else = { set_temp_variable = { pm_temp = controller:latest_production_method@var:v } }
					get_pm_values = yes
				}
				localization_key = "[?productivity_temp|2+]"
			}
		}
	#
	# Retooling
		defined_text = { # GetIndustryRetooling - v
			name = GetIndustryRetooling
			text = {
				trigger = {
					set_temp_variable = { industry_token = v }
					set_temp_variable = { pm_temp = retooling_pm@var:industry_token }
					NOT = { check_variable = { retooling_pm@var:v = 0 } }
				}
				localization_key = industry_retooling_loc
			}
		}
		defined_text = { # GetIndustryPMRetooling - v
			name = GetIndustryPMRetooling
			text = {
				trigger = {
					set_temp_variable = { industry_token = v }
					set_temp_variable = { pm_temp = retooling_pm@var:industry_token }
					NOT = { check_variable = { retooling_pm@var:v = 0 } }
					is_in_array = { global.building_production_methods@var:industry_token = retooling_pm@var:industry_token }
				}
				localization_key = industry_retooling_loc
			}
		}
		defined_text = { # GetIndustryAMRetooling - v
			name = GetIndustryAMRetooling
			text = {
				trigger = {
					set_temp_variable = { industry_token = v }
					set_temp_variable = { pm_temp = retooling_pm@var:industry_token }
					NOT = { check_variable = { retooling_pm@var:v = 0 } }
					is_in_array = { global.building_automation_methods@var:industry_token = retooling_pm@var:industry_token }
				}
				localization_key = industry_retooling_loc
			}
		}
		defined_text = { # GetIndustryRetoolingPM - industry_token
			name = GetIndustryRetoolingPM
			text = {
				trigger = {
					is_in_array = { global.building_production_methods@var:industry_token = retooling_pm@var:industry_token }
				}
				localization_key = industry_retooling_pm
			}
			text = {
				localization_key = industry_retooling_am
			}
		}
		defined_text = { # GetIndustryRetoolingTime - industry_token, pm_temp
			name = GetIndustryRetoolingTime
			text = {
				trigger = {
					set_temp_variable = { retooling_time_temp = controller:pm_retooling_duration@var:pm_temp }

					set_temp_variable = { modifier_temp = 1 }
					add_to_temp_variable = { modifier_temp = building_retooling_speed_factor }

					divide_temp_variable = { retooling_time_temp = modifier_temp }
				}
				localization_key = "[?retooling_time_temp|1]"
			}
		}
		defined_text = { # GetIndustryRetoolingTimeLeft - industry_token
			name = GetIndustryRetoolingTimeLeft
			text = {
				localization_key = "[?retooling_time_left@var:industry_token|1]"
			}
		}
		defined_text = { # GetIndustryRetoolingCost - industry_token
			name = GetIndustryRetoolingCost
			text = {
				trigger = {
					set_temp_variable = { amount_temp = retooling_cost@var:industry_token }
				}
				localization_key = "[GetSpendingAmount]"
			}
		}
		defined_text = { # GetIndustryRetoolingInputLoc - industry_token, pm_input_i
			name = GetIndustryRetoolingInputLoc
			text = {
				trigger = {
					set_temp_variable = { pm_input_temp = retooling_resources@var:industry_token^pm_input_i }
					set_temp_variable = { amount_temp = retooling_amount@var:industry_token^pm_input_i }
					set_temp_variable = { pm_amount_temp = retooling_cost@var:industry_token^pm_input_i }

					check_variable = { pm_input_i < input@var:industry_token^num }
					NOT = { check_variable = { pm_amount_temp = 0 } }
				}
				localization_key = industry_retooling_input_loc
			}
		}
		defined_text = { # GetIndustryRetoolingInputCost - industry_token, pm_input_i
			name = GetIndustryRetoolingInputCost
			text = {
				trigger = {
					set_temp_variable = { amount_temp = retooling_cost@var:industry_token^pm_input_i }
				}
				localization_key = "[GetSpendingAmount]"
			}
		}
		defined_text = { # GetIndustryRetoolingInput0Loc - industry_token
			name = GetIndustryRetoolingInput0Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 0 }
				}
				localization_key = "[GetIndustryRetoolingInputLoc]"
			}
		}
		defined_text = { # GetIndustryRetoolingInput1Loc - industry_token
			name = GetIndustryRetoolingInput1Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 1 }
				}
				localization_key = "[GetIndustryRetoolingInputLoc]"
			}
		}
		defined_text = { # GetIndustryRetoolingInput2Loc - industry_token
			name = GetIndustryRetoolingInput2Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 2 }
				}
				localization_key = "[GetIndustryRetoolingInputLoc]"
			}
		}
		defined_text = { # GetIndustryRetoolingInput3Loc - industry_token
			name = GetIndustryRetoolingInput3Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 3 }
				}
				localization_key = "[GetIndustryRetoolingInputLoc]"
			}
		}
		defined_text = { # GetIndustryRetoolingInput4Loc - industry_token
			name = GetIndustryRetoolingInput4Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 4 }
				}
				localization_key = "[GetIndustryRetoolingInputLoc]"
			}
		}
		defined_text = { # GetIndustryRetoolingInput5Loc - industry_token
			name = GetIndustryRetoolingInput5Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 5 }
				}
				localization_key = "[GetIndustryRetoolingInputLoc]"
			}
		}
		defined_text = { # GetIndustryRetoolingInput6Loc - industry_token
			name = GetIndustryRetoolingInput6Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 6 }
				}
				localization_key = "[GetIndustryRetoolingInputLoc]"
			}
		}
		defined_text = { # GetIndustryRetoolingInput7Loc - industry_token
			name = GetIndustryRetoolingInput7Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 7 }
				}
				localization_key = "[GetIndustryRetoolingInputLoc]"
			}
		}
		defined_text = { # GetIndustryRetoolingInput8Loc - industry_token
			name = GetIndustryRetoolingInput8Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 8 }
				}
				localization_key = "[GetIndustryRetoolingInputLoc]"
			}
		}
		defined_text = { # GetIndustryRetoolingInput9Loc - industry_token
			name = GetIndustryRetoolingInput9Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 9 }
				}
				localization_key = "[GetIndustryRetoolingInputLoc]"
			}
		}
		defined_text = { # GetIndustryRetoolingInput10Loc - industry_token
			name = GetIndustryRetoolingInput10Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 10 }
				}
				localization_key = "[GetIndustryRetoolingInputLoc]"
			}
		}
	#
	# Finances
		defined_text = { # GetIndustryFinances
			name = GetIndustryFinances
			text = {
				trigger = {
					set_temp_variable = { industry_token = v }
				}
				localization_key = industry_finances_loc
			}
		}
		defined_text = { # GetIndustryFinancesShort
			name = GetIndustryFinancesShort
			text = {
				trigger = {
					set_temp_variable = { industry_token = v }
				}
				localization_key = industry_finances_short_loc
			}
		}
		defined_text = { # GetIndustryRevenue - industry_token
			name = GetIndustryRevenue
			text = {
				trigger = {
					set_temp_variable = { amount_temp = revenue@var:industry_token }
				}
				localization_key = "[GetRevenueAmount]"
			}
		}
		defined_text = { # GetIndustryRevenueGoods - industry_token
			name = GetIndustryRevenueGoods
			text = {
				trigger = {
					set_temp_variable = { amount_temp = revenue_goods@var:industry_token }
				}
				localization_key = "[GetRevenueAmount]"
			}
		}
		defined_text = { # GetIndustryIndustrialCapacityRevenue - industry_token
			name = GetIndustryIndustrialCapacityRevenue
			text = {
				trigger = {
					set_temp_variable = { amount_temp = revenue_industrial_capacity@var:industry_token }
				}
				localization_key = "[GetRevenueAmount]"
			}
		}
		defined_text = { # GetIndustryRevenueSubsidies - industry_token
			name = GetIndustryRevenueSubsidies
			text = {
				trigger = {
					set_temp_variable = { amount_temp = revenue_subsidies@var:industry_token }
				}
				localization_key = "[GetRevenueAmount]"
			}
		}
		defined_text = { # GetIndustryExpenses - industry_token
			name = GetIndustryExpenses
			text = {
				trigger = {
					set_temp_variable = { amount_temp = expenses@var:industry_token }
				}
				localization_key = "[GetSpendingAmount]"
			}
		}
		defined_text = { # GetIndustryExpensesInput - industry_token
			name = GetIndustryExpensesInput
			text = {
				trigger = {
					set_temp_variable = { amount_temp = expenses_input@var:industry_token }
				}
				localization_key = "[GetSpendingAmount]"
			}
		}
		defined_text = { # GetIndustryExpensesPayroll - industry_token
			name = GetIndustryExpensesPayroll
			text = {
				trigger = {
					set_temp_variable = { amount_temp = expenses_payroll@var:industry_token }
				}
				localization_key = "[GetSpendingAmount]"
			}
		}
		defined_text = { # GetIndustryIndustrialCapacityUsageExpenses - industry_token
			name = GetIndustryIndustrialCapacityUsageExpenses
			text = {
				trigger = {
					set_temp_variable = { amount_temp = expenses_industrial_capacity@var:industry_token }
				}
				localization_key = "[GetSpendingAmount]"
			}
		}
		defined_text = { # GetIndustryProfit - industry_token
			name = GetIndustryProfit
			text = {
				trigger = {
					set_temp_variable = { amount_temp = profit@var:industry_token }
				}
				localization_key = "[GetPositiveAdjustedAmount]"
			}
		}
		defined_text = { # GetIndustryProfitability - industry_token
			name = GetIndustryProfitability
			text = {
				trigger = {
					set_temp_variable = { amount_temp = profitability@var:industry_token }
				}
				localization_key = "[?amount_temp|+=2%]"
			}
		}
		defined_text = { # GetIndustryDividends - industry_token
			name = GetIndustryDividends
			text = {
				trigger = {
					set_temp_variable = { amount_temp = dividends@var:industry_token }
				}
				localization_key = "[GetSpendingAmount]"
			}
		}
		defined_text = { # GetIndustryMoney - industry_token
			name = GetIndustryMoney
			text = {
				trigger = {
					set_temp_variable = { amount_temp = money@var:industry_token }
				}
				localization_key = "[GetAdjustedAmount]"
			}
		}
		defined_text = { # GetIndustryMoneyLimit - industry_token
			name = GetIndustryMoneyLimit
			text = {
				trigger = {
					set_temp_variable = { amount_temp = money_limit@var:industry_token }
				}
				localization_key = "[GetAdjustedAmountNoSign]"
			}
		}
		defined_text = { # GetIndustryMoneyAccumulation - industry_token
			name = GetIndustryMoneyAccumulation
			text = {
				trigger = {
					set_temp_variable = { amount_temp = money_accumulation@var:industry_token }
				}
				localization_key = "[GetPositiveAdjustedAmount]"
			}
		}
		defined_text = { # GetIndustryProductivityV - v
			name = GetIndustryProductivityV
			text = {
				trigger = {
					set_temp_variable = { amount_temp = productivity@var:v }
					check_variable = { amount_temp < 0 }
				}
				localization_key = "[GetRed][GetAdjustedAmountNoSign]"
			}
			text = {
				trigger = {
					set_temp_variable = { amount_temp = productivity@var:v }
					check_variable = { amount_temp > base_wage }
				}
				localization_key = "[GetGreen][GetAdjustedAmountNoSign]"
			}
			text = {
				trigger = {
					set_temp_variable = { amount_temp = productivity@var:v }
					check_variable = { amount_temp > 0 }
				}
				localization_key = "[GetYellow][GetAdjustedAmountNoSign]"
			}
		}
		defined_text = { # GetIndustryProductivity - industry_token
			name = GetIndustryProductivity
			text = {
				trigger = {
					set_temp_variable = { amount_temp = productivity@var:industry_token }
					NOT = { check_variable = { amount_temp > 0 } }
				}
				localization_key = "[GetRed][GetAdjustedAmountNoSign]"
			}
			text = {
				trigger = {
					set_temp_variable = { amount_temp = productivity@var:industry_token }
					check_variable = { amount_temp > base_wage }
				}
				localization_key = "[GetGreen][GetAdjustedAmountNoSign]"
			}
			text = {
				trigger = {
					set_temp_variable = { amount_temp = productivity@var:industry_token }
					check_variable = { amount_temp > 0 }
				}
				localization_key = "[GetYellow][GetAdjustedAmountNoSign]"
			}
		}
	#
	# Employment
		defined_text = { # GetIndustryEmployment
			name = GetIndustryEmployment
			text = {
				trigger = {
					set_temp_variable = { industry_token = v }
				}
				localization_key = industry_employment_loc
			}
		}
		defined_text = { # GetIndustryEmployed - industry_token
			name = GetIndustryEmployed
			text = {
				trigger = {
					set_temp_variable = { amount_temp = employed@var:industry_token }
				}
				localization_key = "[GetAdjustedAmountThousandsNoSign]"
			}
		}
		defined_text = { # GetIndustryJobs - industry_token
			name = GetIndustryJobs
			text = {
				trigger = {
					set_temp_variable = { amount_temp = jobs@var:industry_token }
				}
				localization_key = "[GetAdjustedAmountThousandsNoSign]"
			}
		}
		defined_text = { # GetIndustryLaborersLoc - industry_token
			name = GetIndustryLaborersLoc
			text = {
				trigger = {
					check_variable = { laborers_jobs@var:industry_token > 0 }
				}
				localization_key = industry_laborers_loc
			}
		}
		defined_text = { # GetIndustryLaborersEmployed - industry_token
			name = GetIndustryLaborersEmployed
			text = {
				trigger = {
					set_temp_variable = { amount_temp = laborers_employed@var:industry_token }
				}
				localization_key = "[GetAdjustedAmountThousandsNoSign]"
			}
		}
		defined_text = { # GetIndustryLaborersJobs - industry_token
			name = GetIndustryLaborersJobs
			text = {
				trigger = {
					set_temp_variable = { amount_temp = laborers_jobs@var:industry_token }
				}
				localization_key = "[GetAdjustedAmountThousandsNoSign]"
			}
		}
		defined_text = { # GetIndustryWorkersLoc - industry_token
			name = GetIndustryWorkersLoc
			text = {
				trigger = {
					check_variable = { workers_jobs@var:industry_token > 0 }
				}
				localization_key = industry_workers_loc
			}
		}
		defined_text = { # GetIndustryWorkersEmployed - industry_token
			name = GetIndustryWorkersEmployed
			text = {
				trigger = {
					set_temp_variable = { amount_temp = workers_employed@var:industry_token }
				}
				localization_key = "[GetAdjustedAmountThousandsNoSign]"
			}
		}
		defined_text = { # GetIndustryWorkersJobs - industry_token
			name = GetIndustryWorkersJobs
			text = {
				trigger = {
					set_temp_variable = { amount_temp = workers_jobs@var:industry_token }
				}
				localization_key = "[GetAdjustedAmountThousandsNoSign]"
			}
		}
		defined_text = { # GetIndustryProfessionalsLoc - industry_token
			name = GetIndustryProfessionalsLoc
			text = {
				trigger = {
					check_variable = { professionals_jobs@var:industry_token > 0 }
				}
				localization_key = industry_professionals_loc
			}
		}
		defined_text = { # GetIndustryProfessionalsEmployed - industry_token
			name = GetIndustryProfessionalsEmployed
			text = {
				trigger = {
					set_temp_variable = { amount_temp = professionals_employed@var:industry_token }
				}
				localization_key = "[GetAdjustedAmountThousandsNoSign]"
			}
		}
		defined_text = { # GetIndustryProfessionalsJobs - industry_token
			name = GetIndustryProfessionalsJobs
			text = {
				trigger = {
					set_temp_variable = { amount_temp = professionals_jobs@var:industry_token }
				}
				localization_key = "[GetAdjustedAmountThousandsNoSign]"
			}
		}
		defined_text = { # GetIndustrySpecialistsLoc - industry_token
			name = GetIndustrySpecialistsLoc
			text = {
				trigger = {
					check_variable = { specialists_jobs@var:industry_token > 0 }
				}
				localization_key = industry_specialists_loc
			}
		}
		defined_text = { # GetIndustrySpecialistsEmployed - industry_token
			name = GetIndustrySpecialistsEmployed
			text = {
				trigger = {
					set_temp_variable = { amount_temp = specialists_employed@var:industry_token }
				}
				localization_key = "[GetAdjustedAmountThousandsNoSign]"
			}
		}
		defined_text = { # GetIndustrySpecialistsJobs - industry_token
			name = GetIndustrySpecialistsJobs
			text = {
				trigger = {
					set_temp_variable = { amount_temp = specialists_jobs@var:industry_token }
				}
				localization_key = "[GetAdjustedAmountThousandsNoSign]"
			}
		}
		defined_text = { # GetIndustryEmploymentPercentage - industry_token
			name = GetIndustryEmploymentPercentage
			text = {
				localization_key = "[?employment_percentage@var:industry_token|2]%"
			}
		}

		defined_text = { # GetIndustryEmploymentTarget - industry_token
			name = GetIndustryEmploymentTarget
			text = {
				localization_key = "[?employment_target@var:industry_token|2]%"
			}
		}
		defined_text = { # GetIndustryEmploymentAmount - industry_token
			name = GetIndustryEmploymentAmount
			text = {
				trigger = {
					set_temp_variable = { amount_temp = jobs@var:industry_token }
					if = { limit = { check_variable = { amount_temp > 1000 } }
						divide_temp_variable = { amount_temp = 100 }
						multiply_temp_variable = { amount_temp = employment_target@var:industry_token }
					}
					else = {
						multiply_temp_variable = { amount_temp = employment_target@var:industry_token }
						divide_temp_variable = { amount_temp = 100 }
					}
				}
				localization_key = "[GetAdjustedAmountThousandsNoSign]"
			}
		}
	#
#

#Special Buildings
	defined_text = { # GetInfrastructureBaseWorkforceRequirement
		name = GetInfrastructureBaseWorkforceRequirement
		text = {
			trigger = {
				set_temp_variable = { bwr_temp = global.building_base_employees@token:infrastructure }
				multiply_temp_variable = { bwr_temp = size@token:infrastructure }
			}
			localization_key = "[?bwr_temp]K"
		}
	}
	defined_text = { # GetInfrastructurePMTotalLoc
		name = GetInfrastructurePMTotalLoc
		text = {
			trigger = {
				set_temp_variable = { am_check = 0 }
				set_temp_variable = { industry_token = token:infrastructure }
			}
			localization_key = industry_pm_total_loc
		}
	}
	defined_text = { # GetInfrastructureEmploymentIcon
		name = GetInfrastructureEmploymentIcon
		text = {
			trigger = {
				set_temp_variable = { percent_temp = employment_percentage@token:infrastructure }
			}
			localization_key = "[GetEmploymentIconFromPercent]"
		}
	}
	defined_text = { # GetInfrastructureEmployment
		name = GetInfrastructureEmployment
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:infrastructure }
			}
			localization_key = industry_employment_loc
		}
	}
	defined_text = { # GetInfrastructureFinancesShort
		name = GetInfrastructureFinancesShort
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:infrastructure }
			}
			localization_key = industry_finances_short_loc
		}
	}
	defined_text = { # GetInfrastructureConstruction
		name = GetInfrastructureConstruction
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:infrastructure }
				set_temp_variable = { pm_temp = production_method@var:industry_token }
				set_temp_variable = { am_temp = automation_method@var:industry_token }
				NOT = { check_variable = { construction@token:infrastructure = 0 } }
			}
			localization_key = industry_construction_loc
		}
	}
	defined_text = { # GetInfrastructureFinances
		name = GetInfrastructureFinances
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:infrastructure }
			}
			localization_key = industry_finances_loc
		}
	}
	defined_text = { # GetInfrastructureProductivity
		name = GetInfrastructureProductivity
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:infrastructure }
			}
			localization_key = "[GetIndustryProductivity]"
		}
	}
	defined_text = { # GetInfrastructurePMLoc
		name = GetInfrastructurePMLoc
		text = {
			trigger = {
				set_temp_variable = { am_check = 0 }
				set_temp_variable = { pm_temp = production_method@token:infrastructure }
				set_temp_variable = { industry_token = token:infrastructure }
			}
			localization_key = "[GetPMLoc]"
		}
	}
	defined_text = { # GetInfrastructurePMRetooling
		name = GetInfrastructurePMRetooling
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:infrastructure }
				set_temp_variable = { pm_temp = retooling_pm@var:industry_token }
				NOT = { check_variable = { retooling_pm@var:industry_token = 0 } }
				is_in_array = { global.building_production_methods@var:industry_token = retooling_pm@var:industry_token }
			}
			localization_key = industry_retooling_loc
		}
	}

	defined_text = { # GetRailwayBaseWorkforceRequirement
		name = GetRailwayBaseWorkforceRequirement
		text = {
			trigger = {
				set_temp_variable = { bwr_temp = global.building_base_employees@token:railway }
				multiply_temp_variable = { bwr_temp = size@token:railway }
			}
			localization_key = "[?bwr_temp]K"
		}
	}
	defined_text = { # GetRailwayPMTotalLoc
		name = GetRailwayPMTotalLoc
		text = {
			trigger = {
				set_temp_variable = { am_check = 0 }
				set_temp_variable = { industry_token = token:railway }
			}
			localization_key = industry_pm_total_loc
		}
	}
	defined_text = { # GetRailwayEmploymentIcon
		name = GetRailwayEmploymentIcon
		text = {
			trigger = {
				set_temp_variable = { percent_temp = employment_percentage@token:railway }
			}
			localization_key = "[GetEmploymentIconFromPercent]"
		}
	}
	defined_text = { # GetRailwayEmployment
		name = GetRailwayEmployment
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:railway }
			}
			localization_key = industry_employment_loc
		}
	}
	defined_text = { # GetRailwayFinancesShort
		name = GetRailwayFinancesShort
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:railway }
			}
			localization_key = industry_finances_short_loc
		}
	}
	defined_text = { # GetRailwayConstruction
		name = GetRailwayConstruction
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:railway }
				set_temp_variable = { pm_temp = production_method@var:industry_token }
				set_temp_variable = { am_temp = automation_method@var:industry_token }
				NOT = { check_variable = { construction@token:railway = 0 } }
			}
			localization_key = industry_construction_loc
		}
	}
	defined_text = { # GetRailwayFinances
		name = GetRailwayFinances
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:railway }
			}
			localization_key = industry_finances_loc
		}
	}
	defined_text = { # GetRailwayProductivity
		name = GetRailwayProductivity
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:railway }
			}
			localization_key = "[GetIndustryProductivity]"
		}
	}
	defined_text = { # GetRailwayPMLoc
		name = GetRailwayPMLoc
		text = {
			trigger = {
				set_temp_variable = { am_check = 0 }
				set_temp_variable = { pm_temp = production_method@token:railway }
				set_temp_variable = { industry_token = token:railway }
			}
			localization_key = "[GetPMLoc]"
		}
	}
	defined_text = { # GetRailwayAMLoc
		name = GetRailwayAMLoc
		text = {
			trigger = {
				set_temp_variable = { am_check = 1 }
				set_temp_variable = { pm_temp = automation_method@token:railway }
				set_temp_variable = { industry_token = token:railway }
			}
			localization_key = "[GetPMLoc]"
		}
	}
	defined_text = { # GetRailwayPMRetooling
		name = GetRailwayPMRetooling
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:railway }
				set_temp_variable = { pm_temp = retooling_pm@var:industry_token }
				NOT = { check_variable = { retooling_pm@var:industry_token = 0 } }
				is_in_array = { global.building_production_methods@var:industry_token = retooling_pm@var:industry_token }
			}
			localization_key = industry_retooling_loc
		}
	}
	defined_text = { # GetRailwayAMRetooling
		name = GetRailwayAMRetooling
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:railway }
				set_temp_variable = { pm_temp = retooling_pm@var:industry_token }
				NOT = { check_variable = { retooling_pm@var:industry_token = 0 } }
				is_in_array = { global.building_automation_methods@var:industry_token = retooling_pm@var:industry_token }
			}
			localization_key = industry_retooling_loc
		}
	}

	defined_text = { # GetPortBaseWorkforceRequirement
		name = GetPortBaseWorkforceRequirement
		text = {
			trigger = {
				set_temp_variable = { bwr_temp = global.building_base_employees@token:port }
				multiply_temp_variable = { bwr_temp = size@token:port }
			}
			localization_key = "[?bwr_temp]K"
		}
	}
	defined_text = { # GetPortPMTotalLoc
		name = GetPortPMTotalLoc
		text = {
			trigger = {
				set_temp_variable = { am_check = 0 }
				set_temp_variable = { industry_token = token:port }
			}
			localization_key = industry_pm_total_loc
		}
	}
	defined_text = { # GetPortEmploymentIcon
		name = GetPortEmploymentIcon
		text = {
			trigger = {
				set_temp_variable = { percent_temp = employment_percentage@token:port }
			}
			localization_key = "[GetEmploymentIconFromPercent]"
		}
	}
	defined_text = { # GetPortEmployment
		name = GetPortEmployment
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:port }
			}
			localization_key = industry_employment_loc
		}
	}
	defined_text = { # GetPortFinancesShort
		name = GetPortFinancesShort
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:port }
			}
			localization_key = industry_finances_short_loc
		}
	}
	defined_text = { # GetPortConstruction
		name = GetPortConstruction
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:port }
				set_temp_variable = { pm_temp = production_method@var:industry_token }
				set_temp_variable = { am_temp = automation_method@var:industry_token }
				NOT = { check_variable = { construction@token:port = 0 } }
			}
			localization_key = industry_construction_loc
		}
	}
	defined_text = { # GetPortFinances
		name = GetPortFinances
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:port }
			}
			localization_key = industry_finances_loc
		}
	}
	defined_text = { # GetPortProductivity
		name = GetPortProductivity
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:port }
			}
			localization_key = "[GetIndustryProductivity]"
		}
	}
	defined_text = { # GetPortPMLoc
		name = GetPortPMLoc
		text = {
			trigger = {
				set_temp_variable = { am_check = 0 }
				set_temp_variable = { pm_temp = production_method@token:port }
				set_temp_variable = { industry_token = token:port }
			}
			localization_key = "[GetPMLoc]"
		}
	}
	defined_text = { # GetPortAMLoc
		name = GetPortAMLoc
		text = {
			trigger = {
				set_temp_variable = { am_check = 1 }
				set_temp_variable = { pm_temp = automation_method@token:port }
				set_temp_variable = { industry_token = token:port }
			}
			localization_key = "[GetPMLoc]"
		}
	}
	defined_text = { # GetPortPMRetooling
		name = GetPortPMRetooling
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:port }
				set_temp_variable = { pm_temp = retooling_pm@var:industry_token }
				NOT = { check_variable = { retooling_pm@var:industry_token = 0 } }
				is_in_array = { global.building_production_methods@var:industry_token = retooling_pm@var:industry_token }
			}
			localization_key = industry_retooling_loc
		}
	}
	defined_text = { # GetPortAMRetooling
		name = GetPortAMRetooling
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:port }
				set_temp_variable = { pm_temp = retooling_pm@var:industry_token }
				NOT = { check_variable = { retooling_pm@var:industry_token = 0 } }
				is_in_array = { global.building_automation_methods@var:industry_token = retooling_pm@var:industry_token }
			}
			localization_key = industry_retooling_loc
		}
	}

	defined_text = { # GetIndustrialComplexEmploymentIcon
		name = GetIndustrialComplexEmploymentIcon
		text = {
			trigger = {
				set_temp_variable = { percent_temp = employment_percentage@token:industrial_complex }
			}
			localization_key = "[GetEmploymentIconFromPercent]"
		}
	}
	defined_text = { # GetIndustrialComplexEmployment
		name = GetIndustrialComplexEmployment
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:industrial_complex }
			}
			localization_key = industry_employment_loc
		}
	}
	defined_text = { # GetIndustrialComplexFinances
		name = GetIndustrialComplexFinances
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:industrial_complex }
			}
			localization_key = industry_finances_short_loc
		}
	}
	defined_text = { # GetIndustrialComplexProductivity
		name = GetIndustrialComplexProductivity
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:industrial_complex }
			}
			localization_key = "[GetIndustryProductivity]"
		}
	}

	defined_text = { # GetArmsFactoryEmploymentIcon
		name = GetArmsFactoryEmploymentIcon
		text = {
			trigger = {
				set_temp_variable = { percent_temp = employment_percentage@token:arms_factory }
			}
			localization_key = "[GetEmploymentIconFromPercent]"
		}
	}
	defined_text = { # GetArmsFactoryEmployment
		name = GetArmsFactoryEmployment
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:arms_factory }
			}
			localization_key = industry_employment_loc
		}
	}
	defined_text = { # GetArmsFactoryFinances
		name = GetArmsFactoryFinances
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:arms_factory }
			}
			localization_key = industry_finances_short_loc
		}
	}
	defined_text = { # GetArmsFactoryProductivity
		name = GetArmsFactoryProductivity
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:arms_factory }
			}
			localization_key = "[GetIndustryProductivity]"
		}
	}

	defined_text = { # GetDockyardEmploymentIcon
		name = GetDockyardEmploymentIcon
		text = {
			trigger = {
				set_temp_variable = { percent_temp = employment_percentage@token:dockyard }
			}
			localization_key = "[GetEmploymentIconFromPercent]"
		}
	}
	defined_text = { # GetDockyardEmployment
		name = GetDockyardEmployment
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:dockyard }
			}
			localization_key = industry_employment_loc
		}
	}
	defined_text = { # GetDockyardFinances
		name = GetDockyardFinances
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:dockyard }
			}
			localization_key = industry_finances_short_loc
		}
	}
	defined_text = { # GetDockyardProductivity
		name = GetDockyardProductivity
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:dockyard }
			}
			localization_key = "[GetIndustryProductivity]"
		}
	}
#

#Subsistence Farms & Arable Land
	defined_text = { # GetSubsFarmVar
		name = GetSubsFarmVar
		text = {
			trigger = {
				set_temp_variable = { v = token:subsistence_farm }
				set_temp_variable = { industry_token = token:subsistence_farm }
			}
			localization_key = ""
		}
	}
	defined_text = { # GetSubsFarmEmployed
		name = GetSubsFarmEmployed
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:subsistence_farm }
			}
			localization_key = "[GetIndustryEmployed]"
		}
	}
	defined_text = { # GetSubsFarmJobs
		name = GetSubsFarmJobs
		text = {
			trigger = {
				set_temp_variable = { industry_token = token:subsistence_farm }
			}
			localization_key = "[GetIndustryJobs]"
		}
	}
	defined_text = { # GetSubsFarmOwners
		name = GetSubsFarmOwners
		text = {
			trigger = {
				set_temp_variable = { amount_temp = owner_jobs@token:subsistence_farm }
				multiply_temp_variable = { amount_temp = employment_target@token:subsistence_farm }
				divide_temp_variable = { amount_temp = 100 }
			}
			localization_key = "[GetAdjustedAmountThousandsNoSign]"
		}
	}
	defined_text = { # GetSubsFarmMarginalLandUsage
		name = GetSubsFarmMarginalLandUsage
		text = {
			trigger = {
				set_temp_variable = { amount_temp = peasants_marginal_land }
			}
			localization_key = "[GetAdjustedAmountThousandsNoSign]"
		}
	}
	defined_text = { # GetSubsFarmRevenue
		name = GetSubsFarmRevenue
		text = {
			trigger = {
				set_temp_variable = { amount_temp = revenue@token:subsistence_farm }
			}
			localization_key = "[GetRevenueAmount]"
		}
	}
	defined_text = { # GetSubsFarmPayroll
		name = GetSubsFarmPayroll
		text = {
			trigger = {
				set_temp_variable = { amount_temp = expenses_payroll@token:subsistence_farm }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetSubsFarmDividends
		name = GetSubsFarmDividends
		text = {
			trigger = {
				set_temp_variable = { amount_temp = dividends@token:subsistence_farm }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetSubsFarmProductivity
		name = GetSubsFarmProductivity
		text = {
			trigger = {
				set_temp_variable = { amount_temp = productivity@token:subsistence_farm }
				NOT = { check_variable = { amount_temp > 0 } }
			}
			localization_key = "[GetRed][GetAdjustedAmountNoSign]"
		}
		text = {
			trigger = {
				set_temp_variable = { amount_temp = productivity@token:subsistence_farm }
				check_variable = { amount_temp > 1 }
			}
			localization_key = "[GetGreen][GetAdjustedAmountNoSign]"
		}
		text = {
			trigger = {
				set_temp_variable = { amount_temp = productivity@token:subsistence_farm }
				check_variable = { amount_temp > 0 }
			}
			localization_key = "[GetYellow][GetAdjustedAmountNoSign]"
		}
	}
#

#Production Methods
	defined_text = { # GetPMLoc - industry_token, pm_token, am_check
		name = GetPMLoc
		text = {
			localization_key = pm_main_loc
		}
	}
	## Main Tooltip ##
		defined_text = { # GetOutputTextIconsLoc - industry_token
			name = GetOutputTextIconsLoc
			text = {
				localization_key = output_texticons_loc
			}
		}
		defined_text = { # GetOutputTextIcon0 - industry_token
			name = GetOutputTextIcon0
			text = {
				trigger = {
					check_variable = { global.building_base_production@var:industry_token^num > 0 }
				}
				localization_key = "GFX_[?global.building_base_production@var:industry_token^0.GetTokenKey]_texticon"
			}
		}
		defined_text = { # GetOutputTextIcon1 - industry_token
			name = GetOutputTextIcon1
			text = {
				trigger = {
					check_variable = { global.building_base_production@var:industry_token^num > 1 }
				}
				localization_key = "GFX_[?global.building_base_production@var:industry_token^1.GetTokenKey]_texticon"
			}
		}
		defined_text = { # GetOutputTextIcon2 - industry_token
			name = GetOutputTextIcon2
			text = {
				trigger = {
					check_variable = { global.building_base_production@var:industry_token^num > 2 }
				}
				localization_key = "GFX_[?global.building_base_production@var:industry_token^2.GetTokenKey]_texticon"
			}
		}
		defined_text = { # GetOutputTextIcon3 - industry_token
			name = GetOutputTextIcon3
			text = {
				trigger = {
					check_variable = { global.building_base_production@var:industry_token^num > 3 }
				}
				localization_key = "GFX_[?global.building_base_production@var:industry_token^3.GetTokenKey]_texticon"
			}
		}
		defined_text = { # GetOutputTextIcon4 - industry_token
			name = GetOutputTextIcon4
			text = {
				trigger = {
					check_variable = { global.building_base_production@var:industry_token^num > 4 }
				}
				localization_key = "GFX_[?global.building_base_production@var:industry_token^4.GetTokenKey]_texticon"
			}
		}
		defined_text = { # GetPMTitle - am_check
			name = GetPMTitle
			text = {
				trigger = {
					check_variable = { am_check = 1 }
				}
				localization_key = am_title
			}
			text = {
				localization_key = pm_title
			}
		}
		defined_text = { # GetPMIndustrialCapOutputLoc - pm_temp
			name = GetPMIndustrialCapOutputLoc
			text = {
				trigger = {
					check_variable = { controller:pm_industrial_capacity@var:pm_temp > 0 }
				}
				localization_key = pm_industrial_capacity_loc
			}
		}
		defined_text = { # GetPMShippingCapOutputLoc - pm_temp
			name = GetPMShippingCapOutputLoc
			text = {
				trigger = {
					check_variable = { controller:pm_shipping_capacity@var:pm_temp > 0 }
				}
				localization_key = pm_shipping_capacity_loc
			}
		}
		defined_text = { # GetPMTechReqLoc
			name = GetPMTechReqLoc
			text = {
				trigger = {
					set_temp_variable = {
						pm_tech_req_temp = global.pm_tech_unlock@var:pm_temp
					}
					check_variable = { pm_tech_req_temp > 0 }
				}
				localization_key = pm_tech_req_loc
			}
		}
		defined_text = { # GetPMTechLockLoc
			name = GetPMTechLockLoc
			text = {
				trigger = {
					ROOT = { has_tech = var:pm_tech_req_temp }
				}
				localization_key = pm_tech_unlock_loc
			}
			text = {
				localization_key = pm_tech_lock_loc
			}
		}
		defined_text = { # GetPMIndustrialCapUseLoc - pm_temp
			name = GetPMIndustrialCapUseLoc
			text = {
				trigger = {
					check_variable = { controller:pm_industrial_capacity_use@var:pm_temp > 0 }
				}
				localization_key = pm_industrial_capacity_use_loc
			}
		}
		defined_text = { # GetPMInputLoc - pm_temp, pm_input_i
			name = GetPMInputLoc
			text = {
				trigger = {
					set_temp_variable = { pm_input_temp = controller:pm_input@var:pm_temp^pm_input_i }
					set_temp_variable = { pm_amount_temp = controller:pm_input_amount@var:pm_temp^pm_input_i }

					check_variable = { pm_input_i < controller:pm_input@var:pm_temp^num }
					NOT = { check_variable = { pm_amount_temp = 0 } }
				}
				localization_key = pm_input_loc
			}
		}
		defined_text = { # GetPMInputTextIcon - pm_input_temp
			name = GetPMInputTextIcon
			text = {
				localization_key = "GFX_[?pm_input_temp.GetTokenKey]_texticon"
			}
		}
		defined_text = { # GetPMInput0Loc - industry_token
			name = GetPMInput0Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 0 }
				}
				localization_key = "[GetPMInputLoc]"
			}
		}
		defined_text = { # GetPMInput1Loc - industry_token
			name = GetPMInput1Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 1 }
				}
				localization_key = "[GetPMInputLoc]"
			}
		}
		defined_text = { # GetPMInput2Loc - industry_token
			name = GetPMInput2Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 2 }
				}
				localization_key = "[GetPMInputLoc]"
			}
		}
		defined_text = { # GetPMInput3Loc - industry_token
			name = GetPMInput3Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 3 }
				}
				localization_key = "[GetPMInputLoc]"
			}
		}
		defined_text = { # GetPMInput4Loc - industry_token
			name = GetPMInput4Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 4 }
				}
				localization_key = "[GetPMInputLoc]"
			}
		}
		defined_text = { # GetPMInput5Loc - industry_token
			name = GetPMInput5Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 5 }
				}
				localization_key = "[GetPMInputLoc]"
			}
		}
		defined_text = { # GetPMInput6Loc - industry_token
			name = GetPMInput6Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 6 }
				}
				localization_key = "[GetPMInputLoc]"
			}
		}
		defined_text = { # GetPMInput7Loc - industry_token
			name = GetPMInput7Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 7 }
				}
				localization_key = "[GetPMInputLoc]"
			}
		}
		defined_text = { # GetPMInput8Loc - industry_token
			name = GetPMInput8Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 8 }
				}
				localization_key = "[GetPMInputLoc]"
			}
		}
		defined_text = { # GetPMInput9Loc - industry_token
			name = GetPMInput9Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 9 }
				}
				localization_key = "[GetPMInputLoc]"
			}
		}
		defined_text = { # GetPMInput10Loc - industry_token
			name = GetPMInput10Loc
			text = {
				trigger = {
					set_temp_variable = { pm_input_i = 10 }
				}
				localization_key = "[GetPMInputLoc]"
			}
		}
		defined_text = { # GetPMLaborersLoc - pm_temp
			name = GetPMLaborersLoc
			text = {
				trigger = {
					set_temp_variable = { pm_workforce_temp = controller:pm_workforce_laborers@var:pm_temp }
					NOT = { check_variable = { pm_workforce_temp = 0 } }
				}
				localization_key = pm_laborers_loc
			}
		}
		defined_text = { # GetPMWorkersLoc - pm_temp
			name = GetPMWorkersLoc
			text = {
				trigger = {
					set_temp_variable = { pm_workforce_temp = controller:pm_workforce_workers@var:pm_temp }
					NOT = { check_variable = { pm_workforce_temp = 0 } }
				}
				localization_key = pm_workers_loc
			}
		}
		defined_text = { # GetPMProfessionalsLoc - pm_temp
			name = GetPMProfessionalsLoc
			text = {
				trigger = {
					set_temp_variable = { pm_workforce_temp = controller:pm_workforce_professionals@var:pm_temp }
					NOT = { check_variable = { pm_workforce_temp = 0 } }
				}
				localization_key = pm_professionals_loc
			}
		}
		defined_text = { # GetPMSpecialistsLoc - pm_temp
			name = GetPMSpecialistsLoc
			text = {
				trigger = {
					set_temp_variable = { pm_workforce_temp = controller:pm_workforce_specialists@var:pm_temp }
					NOT = { check_variable = { pm_workforce_temp = 0 } }
				}
				localization_key = pm_specialists_loc
			}
		}
		defined_text = { # GetPMEnd - am_check, industry_token, pm_temp
			name = GetPMEnd
			text = {
				trigger = {
					check_variable = { am_check = 1 }
				}
				localization_key = am_end
			}
			text = {
				localization_key = pm_end
			}
		}
		defined_text = { # GetPMBaseProductivity
			name = GetPMBaseProductivity
			text = {
				trigger = {
					set_temp_variable = { eco_of_scale_modifier_temp = 1 }
					get_pm_values = yes
				}
				localization_key = "[?productivity_temp|2]"
			}
		}
		defined_text = { # GetAMWageProfitability
			name = GetAMWageProfitability
			text = {
				trigger = {
					set_temp_variable = { eco_of_scale_modifier_temp = 1 }
					get_pm_values = yes
				}
				localization_key = "[?productivity_temp|2]"
			}
		}
	#

	## Retooling ##
		defined_text = { # GetPMRetoolingLoc - pm_temp, am_check
			name = GetPMRetoolingLoc
			text = {
				localization_key = pm_retooling_main_loc
			}
		}
	#
#
#PM List
	defined_text = { # GetPMListTitle
		name = GetPMListTitle
		text = {
			trigger = {
				check_variable = { ROOT.selected_pm_type = 0 }
			}
			localization_key = pm_list_loc
		}
		text = {
			localization_key = am_list_loc
		}
	}
	defined_text = { # GetPMListIcon
		name = GetPMListIcon
		text = {
			localization_key = "GFX_[?v.GetTokenKey]"
		}
	}
	defined_text = { # GetPMListSelectionValue
		name = GetPMListSelectionValue
		text = {
			trigger = {
				set_temp_variable = { industry_token = ROOT.selected_industry }
				set_temp_variable = { pm_temp = v }
				check_variable = { ROOT.selected_pm_type = 0 }
			}
			localization_key = pm_entry_productivity_pm
		}
		text = {
			trigger = {
				set_temp_variable = { industry_token = ROOT.selected_industry }
			}
			localization_key = pm_entry_productivity_am
		}
	}
	defined_text = { # GetPMListTooltip - v
		name = GetPMListTooltip
		text = {
			trigger = {
				set_temp_variable = { industry_token = ROOT.selected_industry }
				set_temp_variable = { pm_temp = v }
				set_temp_variable = { am_check = ROOT.selected_pm_type }
			}
			localization_key = "[GetPMLoc]"
		}
	}
	defined_text = { # GetPMListRetoolingLoc - v
		name = GetPMListRetoolingLoc
		text = {
			trigger = {
				#set_temp_variable = { industry_token = ROOT.selected_industry }
				set_temp_variable = { pm_temp = v }
				set_temp_variable = { am_check = ROOT.selected_pm_type }
			}
			localization_key = "[GetPMRetoolingLoc]"
		}
	}
	defined_text = { # GetPMListRetoolingTime - v
		name = GetPMListRetoolingTime
		text = {
			trigger = {
				set_temp_variable = { retooling_time_temp = controller:pm_retooling_duration@var:v }

				set_temp_variable = { modifier_temp = 1 }
				add_to_temp_variable = { modifier_temp = building_retooling_speed_factor }

				divide_temp_variable = { retooling_time_temp = modifier_temp }
			}
			localization_key = "[?retooling_time_temp|1]"
		}
	}
#

#Investment
	defined_text = {
		name = GetFundAllInvestmentsCost
		text = {
			trigger = {
				check_variable = { investment_opportunity_fund_all_cost > 99999.999 }
				set_temp_variable = { invest_temp = investment_opportunity_fund_all_cost }
				divide_temp_variable = { invest_temp = 1000 }
			}
			localization_key = "[?invest_temp|0]K"
		}
		text = {
			trigger = {
				check_variable = { investment_opportunity_fund_all_cost > 9999.999 }
				set_temp_variable = { invest_temp = investment_opportunity_fund_all_cost }
				divide_temp_variable = { invest_temp = 1000 }
			}
			localization_key = "[?invest_temp|1]K"
		}
		text = {
			trigger = {
				check_variable = { investment_opportunity_fund_all_cost > 999.999 }
				set_temp_variable = { invest_temp = investment_opportunity_fund_all_cost }
				divide_temp_variable = { invest_temp = 1000 }
			}
			localization_key = "[?invest_temp|2]K"
		}
		text = {
			trigger = {
				check_variable = { investment_opportunity_fund_all_cost > 99.999 }
			}
			localization_key = "[?investment_opportunity_fund_all_cost|0]"
		}
		text = {
			trigger = {
				check_variable = { investment_opportunity_fund_all_cost > 9.999 }
			}
			localization_key = "[?investment_opportunity_fund_all_cost|1]"
		}
		text = {
			trigger = {
				check_variable = { investment_opportunity_fund_all_cost > 0.999 }
			}
			localization_key = "[?investment_opportunity_fund_all_cost|2]"
		}
		text = {
			localization_key = "[?investment_opportunity_fund_all_cost|3]"
		}
	}

	defined_text = {
		name = GetInvestmentOpportunityName
		text = {
			trigger = {
				check_variable = { investment_opportunity_type@var:v = 0 }
			}
			localization_key = investment_opportunity_build
		}
		text = {
			trigger = {
				check_variable = { investment_opportunity_type@var:v = 1 }
			}
			localization_key = investment_opportunity_expand
		}
		text = {
			trigger = {
				check_variable = { investment_opportunity_type@var:v = 2 }
			}
			localization_key = investment_opportunity_upgrade
		}
		text = {
			trigger = {
				check_variable = { investment_opportunity_type@var:v = 3 }
			}
			localization_key = investment_opportunity_upgrade_am
		}
		text = {
			localization_key = "[?investment_opportunity_building@var:v.GetTokenLocalizedKey]"
		}
	}
	defined_text = {
		name = GetInvestmentOpportunityIcon
		text = {
			trigger = {
				set_temp_variable = { gubb = investment_opportunity_building@var:v }
			}
			localization_key = "GFX_[?gubb.GetTokenKey]"
		}
	}
	defined_text = {
		name = GetInvestmentOpportunityInvestment
		text = {
			trigger = {
				check_variable = { investment_opportunity_investment@var:v > 99999.999 }
				set_temp_variable = { invest_temp = investment_opportunity_investment@var:v }
				divide_temp_variable = { invest_temp = 1000 }
			}
			localization_key = "[?invest_temp|0]K"
		}
		text = {
			trigger = {
				check_variable = { investment_opportunity_investment@var:v > 9999.999 }
				set_temp_variable = { invest_temp = investment_opportunity_investment@var:v }
				divide_temp_variable = { invest_temp = 1000 }
			}
			localization_key = "[?invest_temp|1]K"
		}
		text = {
			trigger = {
				check_variable = { investment_opportunity_investment@var:v > 999.999 }
				set_temp_variable = { invest_temp = investment_opportunity_investment@var:v }
				divide_temp_variable = { invest_temp = 1000 }
			}
			localization_key = "[?invest_temp|2]K"
		}
		text = {
			trigger = {
				check_variable = { investment_opportunity_investment@var:v > 99.999 }
			}
			localization_key = "[?investment_opportunity_investment@var:v|0]"
		}
		text = {
			trigger = {
				check_variable = { investment_opportunity_investment@var:v > 9.999 }
			}
			localization_key = "[?investment_opportunity_investment@var:v|1]"
		}
		text = {
			trigger = {
				check_variable = { investment_opportunity_investment@var:v > 0.999 }
			}
			localization_key = "[?investment_opportunity_investment@var:v|2]"
		}
		text = {
			localization_key = "[?investment_opportunity_investment@var:v|3]"
		}
	}
	defined_text = {
		name = GetInvestmentOpportunityCost
		text = {
			trigger = {
				check_variable = { investment_opportunity_cost@var:v > 99999.999 }
				set_temp_variable = { invest_temp = investment_opportunity_cost@var:v }
				divide_temp_variable = { invest_temp = 1000 }
			}
			localization_key = "[?invest_temp|0]K"
		}
		text = {
			trigger = {
				check_variable = { investment_opportunity_cost@var:v > 9999.999 }
				set_temp_variable = { invest_temp = investment_opportunity_cost@var:v }
				divide_temp_variable = { invest_temp = 1000 }
			}
			localization_key = "[?invest_temp|1]K"
		}
		text = {
			trigger = {
				check_variable = { investment_opportunity_cost@var:v > 999.999 }
				set_temp_variable = { invest_temp = investment_opportunity_cost@var:v }
				divide_temp_variable = { invest_temp = 1000 }
			}
			localization_key = "[?invest_temp|2]K"
		}
		text = {
			trigger = {
				check_variable = { investment_opportunity_cost@var:v > 99.999 }
			}
			localization_key = "[?investment_opportunity_cost@var:v|0]"
		}
		text = {
			trigger = {
				check_variable = { investment_opportunity_cost@var:v > 9.999 }
			}
			localization_key = "[?investment_opportunity_cost@var:v|1]"
		}
		text = {
			trigger = {
				check_variable = { investment_opportunity_cost@var:v > 0.999 }
			}
			localization_key = "[?investment_opportunity_cost@var:v|2]"
		}
		text = {
			localization_key = "[?investment_opportunity_cost@var:v|3]"
		}
	}
	defined_text = {
		name = GetInvestmentOpportunityCostColor
		text = {
			trigger = {
				check_variable = { investment_opportunity_investment@var:v < investment_opportunity_cost@var:v }
			}
			localization_key = red_loc
		}
		text = {
			localization_key = green_loc
		}
	}
	defined_text = {
		name = GetInvestmentOpportunityFundCost
		text = {
			trigger = {
				NOT = { check_variable = { investment_opportunity_cost@var:v > investment_opportunity_investment@var:v } }
			}
			localization_key = "0.000"
		}
		text = {
			trigger = {
				set_temp_variable = { cost_temp = investment_opportunity_cost@var:v }
				subtract_from_temp_variable = { cost_temp = investment_opportunity_investment@var:v }
        		divide_temp_variable = { cost_temp = modifier@government_investment_efficiency_factor }

				check_variable = { cost_temp > 99999.999 }
				set_temp_variable = { invest_temp = cost_temp }
				divide_temp_variable = { invest_temp = 1000 }
			}
			localization_key = "[?invest_temp|0]K"
		}
		text = {
			trigger = {
				check_variable = { cost_temp > 9999.999 }
				set_temp_variable = { invest_temp = cost_temp }
				divide_temp_variable = { invest_temp = 1000 }
			}
			localization_key = "[?invest_temp|1]K"
		}
		text = {
			trigger = {
				check_variable = { cost_temp > 999.999 }
				set_temp_variable = { invest_temp = cost_temp }
				divide_temp_variable = { invest_temp = 1000 }
			}
			localization_key = "[?invest_temp|2]K"
		}
		text = {
			trigger = {
				check_variable = { cost_temp > 99.999 }
			}
			localization_key = "[?cost_temp|0]"
		}
		text = {
			trigger = {
				check_variable = { cost_temp > 9.999 }
			}
			localization_key = "[?cost_temp|1]"
		}
		text = {
			trigger = {
				check_variable = { cost_temp > 0.999 }
			}
			localization_key = "[?cost_temp|2]"
		}
		text = {
			localization_key = "[?cost_temp|3]"
		}
	}
	defined_text = {
		name = GetInvestmentOpportunityAttractivenessColor
		text = {
			trigger = {
				check_variable = { investment_opportunity_attractiveness@var:v > 200 }
			}
			localization_key = green_loc
		}
		text = {
			trigger = {
				check_variable = { investment_opportunity_attractiveness@var:v < 100 }
			}
			localization_key = red_loc
		}
		text = {
			localization_key = white_loc
		}
	}
#

#Resources
    defined_text = {
        name = GetFoodResourceStatus
        text = {
            trigger = {
                check_variable = { trade_value@token:resource_food > 0 }
            }
            localization_key = surplus_loc
        }
        text = {
            trigger = {
                check_variable = { trade_value@token:resource_food < 0 }
            }
            localization_key = deficit_loc
        }
        text = {
            localization_key = balanced_loc
        }
    }
    defined_text = {
        name = GetFoodResourceRelativePrice
        text = {
            trigger = {
				set_temp_variable = { rel_pr = price@token:resource_food }
				divide_temp_variable = { rel_pr = global.base_price@token:resource_food }
				subtract_from_temp_variable = { rel_pr = 1 }
            }
            localization_key = "[?rel_pr|1-=%]"
        }
    }
    defined_text = {
        name = GetRawMaterialsResourceStatus
        text = {
            trigger = {
                check_variable = { trade_value@token:resource_raw_materials > 0 }
            }
            localization_key = surplus_loc
        }
        text = {
            trigger = {
                check_variable = { trade_value@token:resource_raw_materials < 0 }
            }
            localization_key = deficit_loc
        }
        text = {
            localization_key = balanced_loc
        }
    }
    defined_text = {
        name = GetRawMaterialsResourceRelativePrice
        text = {
            trigger = {
				set_temp_variable = { rel_pr = price@token:resource_raw_materials }
				divide_temp_variable = { rel_pr = global.base_price@token:resource_raw_materials }
				subtract_from_temp_variable = { rel_pr = 1 }
            }
            localization_key = "[?rel_pr|1-=%]"
        }
    }
    defined_text = {
        name = GetEnergyMaterialsResourceStatus
        text = {
            trigger = {
                check_variable = { trade_value@token:resource_energy_materials > 0 }
            }
            localization_key = surplus_loc
        }
        text = {
            trigger = {
                check_variable = { trade_value@token:resource_energy_materials < 0 }
            }
            localization_key = deficit_loc
        }
        text = {
            localization_key = balanced_loc
        }
    }
    defined_text = {
        name = GetEnergyMaterialsResourceRelativePrice
        text = {
            trigger = {
				set_temp_variable = { rel_pr = price@token:resource_energy_materials }
				divide_temp_variable = { rel_pr = global.base_price@token:resource_energy_materials }
				subtract_from_temp_variable = { rel_pr = 1 }
            }
            localization_key = "[?rel_pr|1-=%]"
        }
    }
    defined_text = {
        name = GetConsumerGoodsResourceStatus
        text = {
            trigger = {
                check_variable = { trade_value@token:resource_consumer_goods > 0 }
            }
            localization_key = surplus_loc
        }
        text = {
            trigger = {
                check_variable = { trade_value@token:resource_consumer_goods < 0 }
            }
            localization_key = deficit_loc
        }
        text = {
            localization_key = balanced_loc
        }
    }
    defined_text = {
        name = GetConsumerGoodsResourceRelativePrice
        text = {
            trigger = {
				set_temp_variable = { rel_pr = price@token:resource_consumer_goods }
				divide_temp_variable = { rel_pr = global.base_price@token:resource_consumer_goods }
				subtract_from_temp_variable = { rel_pr = 1 }
            }
            localization_key = "[?rel_pr|1-=%]"
        }
    }
    defined_text = {
        name = GetLuxuryGoodsResourceStatus
        text = {
            trigger = {
                check_variable = { trade_value@token:resource_luxury_goods > 0 }
            }
            localization_key = surplus_loc
        }
        text = {
            trigger = {
                check_variable = { trade_value@token:resource_luxury_goods < 0 }
            }
            localization_key = deficit_loc
        }
        text = {
            localization_key = balanced_loc
        }
    }
    defined_text = {
        name = GetLuxuryGoodsResourceRelativePrice
        text = {
            trigger = {
				set_temp_variable = { rel_pr = price@token:resource_luxury_goods }
				divide_temp_variable = { rel_pr = global.base_price@token:resource_luxury_goods }
				subtract_from_temp_variable = { rel_pr = 1 }
            }
            localization_key = "[?rel_pr|1-=%]"
        }
    }
    defined_text = {
        name = GetIndustrialGoodsResourceStatus
        text = {
            trigger = {
                check_variable = { trade_value@token:resource_industrial_goods > 0 }
            }
            localization_key = surplus_loc
        }
        text = {
            trigger = {
                check_variable = { trade_value@token:resource_industrial_goods < 0 }
            }
            localization_key = deficit_loc
        }
        text = {
            localization_key = balanced_loc
        }
    }
    defined_text = {
        name = GetIndustrialGoodsResourceRelativePrice
        text = {
            trigger = {
				set_temp_variable = { rel_pr = price@token:resource_industrial_goods }
				divide_temp_variable = { rel_pr = global.base_price@token:resource_industrial_goods }
				subtract_from_temp_variable = { rel_pr = 1 }
            }
            localization_key = "[?rel_pr|1-=%]"
        }
    }
    defined_text = {
        name = GetElectricityResourceStatus
        text = {
            trigger = {
                check_variable = { trade_value@token:resource_electricity > 0 }
            }
            localization_key = surplus_loc
        }
        text = {
            trigger = {
                check_variable = { trade_value@token:resource_electricity < 0 }
            }
            localization_key = deficit_loc
        }
        text = {
            localization_key = balanced_loc
        }
    }
    defined_text = {
        name = GetElectricityResourceRelativePrice
        text = {
            trigger = {
				set_temp_variable = { rel_pr = price@token:resource_electricity }
				divide_temp_variable = { rel_pr = global.base_price@token:resource_electricity }
				subtract_from_temp_variable = { rel_pr = 1 }
            }
            localization_key = "[?rel_pr|1-=%]"
        }
    }
    defined_text = {
        name = GetServicesResourceStatus
        text = {
            trigger = {
                check_variable = { trade_value@token:resource_services > 0 }
            }
            localization_key = surplus_loc
        }
        text = {
            trigger = {
                check_variable = { trade_value@token:resource_services < 0 }
            }
            localization_key = deficit_loc
        }
        text = {
            localization_key = balanced_loc
        }
    }
    defined_text = {
        name = GetServicesResourceRelativePrice
        text = {
            trigger = {
				set_temp_variable = { rel_pr = price@token:resource_services }
				divide_temp_variable = { rel_pr = global.base_price@token:resource_services }
				subtract_from_temp_variable = { rel_pr = 1 }
            }
            localization_key = "[?rel_pr|1-=%]"
        }
    }
#

#Statistics
    defined_text = {
        name = GetStateGDPGraphThousands
        text = {
            trigger = {
                has_state_flag = gdp_graph_thousands
            }
            localization_key = statistics_gdp_graph_thousands_loc
        }
    }
    defined_text = {
        name = GetStateGDPGrowthColor
        text = {
            trigger = {
                check_variable = { annual_gdp_growth > 0 }
            }
            localization_key = green_loc
        }
        text = {
            trigger = {
                check_variable = { annual_gdp_growth < 0 }
            }
            localization_key = red_loc
        }
        text = {
            localization_key = yellow_loc
        }
    }
#

#Corporations
    #Icon
        defined_text = {
            name = GetCorporationIcon
            text = {
                trigger = {
                    check_variable = { corporation_type = 2 }
                }
                localization_key = "GFX_consumer_goods_factory"
            }
            text = {
                trigger = {
                    check_variable = { corporation_type = 3 }
                }
                localization_key = "GFX_luxuries"
            }
            text = {
                trigger = {
                    check_variable = { corporation_type = 6 }
                }
                localization_key = "GFX_appliances"
            }
        }
    #
    #Names
        defined_text = {
            name = GetCorpName
            #Generic Names
            text = {
                trigger = {
                    check_variable = { corp_name = 0 }
                }
                localization_key = "[GetCorpBeginning][GetCorpEnding]"
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 1 }
                }
                localization_key = "[GetCorpWhole]"
            }
            #Unique Names

            #American
            text = {
                trigger = {
                    check_variable = { corp_name = 10 }
                }
                localization_key = "US Steel" #Pops up in 1883 via "Carnegie Acquires Homestead Steel Works"
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 11 }
                }
                localization_key = "Standard Oil" #Pops up in 1870
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 12 }
                }
                localization_key = "General Electric" #Pops up after 'War of the Currents.' Either this or WE will exist
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 13 }
                }
                localization_key = "General Motors" #1900
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 14 }
                }
                localization_key = "American Tobacco Company" #1890
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 15 }
                }
                localization_key = "Vanderbilt Railroads" #1863 (Acquisition of New York & Harlem RR)
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 16 }
                }
                localization_key = "PepsiCo" #1965, if Coca-Cola no longer exists
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 17 }
                }
                localization_key = "Coca-Cola" #1885
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 18 }
                }
                localization_key = "Nestle" #1866
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 19 }
                }
                localization_key = "Westinghouse Electric" #Pops up after 'War of the Currents.' Either this or GE will exist
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 20 }
                }
                localization_key = "Ford Motors" #1901
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 21 }
                }
                localization_key = "Union Pacific" #Transcontinental RR construction
            }

            #Japanese
            text = {
                trigger = {
                    check_variable = { corp_name = 51 }
                }
                localization_key = "Mitsubishi"
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 52 }
                }
                localization_key = "Yasuda"
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 53 }
                }
                localization_key = "Mitsui Group"
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 54 }
                }
                localization_key = "Sumitomo Group"
            }

            #German
            text = {
                trigger = {
                    check_variable = { corp_name = 101 }
                }
                localization_key = "Lufthansa"
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 102 }
                }
                localization_key = "Daimler"
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 103 }
                }
                localization_key = "Siemens"
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 104 }
                }
                localization_key = "RWKS" #Rheinish-Westphalian Coal Syndicate. 54% of coal in Germany, 93% coal of Ruhr
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 105 }
                }
                localization_key = "IG Farben"
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 106 }
                }
                localization_key = "Krupp"
            }

            #Austria/Czechoslovakia/Hungary/Balkans
            text = {
                trigger = {
                    check_variable = { corp_name = 151 }
                }
                localization_key = "Steyr-Daimler-Puch"
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 152 }
                }
                localization_key = "Skoda"
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 153 }
                }
                localization_key = "Ganz Works"
            }

            #British
            text = {
                trigger = {
                    check_variable = { corp_name = 201 }
                }
                localization_key = "British Petroleum"
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 202 }
                }
                localization_key = "Rolls-Royce"
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 203 }
                }
                localization_key = "Twinings"
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 204 }
                }
                localization_key = "Wedgwood"
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 205 }
                }
                localization_key = "Cadbury"
            }

            #French
            text = {
                trigger = {
                    check_variable = { corp_name = 251 }
                }
                localization_key = "Renault"
            }

            #Arabian
            text = {
                trigger = {
                    check_variable = { corp_name = 301 }
                }
                localization_key = "Aramco"
            }

            #Scandinavian
            text = {
                trigger = {
                    check_variable = { corp_name = 351 }
                }
                localization_key = "Aker" #Conglomerate (Shipping mostly)
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 352 }
                }
                localization_key = "Smedvig" #Oil
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 353 }
                }
                localization_key = "Norske Skog" #Lumber
            }
            text = {
                trigger = {
                    check_variable = { corp_name = 353 }
                }
                localization_key = "Christiana Spigerverk" #Steel
            }

        }

        defined_text = {
            name = GetCorpWhole
            text = {
                trigger = {
                    check_variable = { corp_first_name = 0 }
                }
                localization_key = "Santander"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 1 }
                }
                localization_key = "Woolsworths"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 2 }
                }
                localization_key = "Eaton"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 3 }
                }
                localization_key = "Stryker"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 4 }
                }
                localization_key = "Vivendi"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 5 }
                }
                localization_key = "BCE"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 6 }
                }
                localization_key = "Applied Materials"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 7 }
                }
                localization_key = "Inditex"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 8 }
                }
                localization_key = "Ericsson"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 9 }
                }
                localization_key = "Kering"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 10 }
                }
                localization_key = "Diageo"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 11 }
                }
                localization_key = "Tesla"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 12 }
                }
                localization_key = "Edison"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 13 }
                }
                localization_key = "Falcor"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 14 }
                }
                localization_key = "Dow"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 15 }
                }
                localization_key = "Amgen"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 16 }
                }
                localization_key = "3M"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 17 }
                }
                localization_key = "Exelon"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 18 }
                }
                localization_key = "CNOOC"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 19 }
                }
                localization_key = "CK Hutchinson"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 20 }
                }
                localization_key = "Travelers"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 21 }
                }
                localization_key = "Rio Tinto"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 22 }
                }
                localization_key = "UBS"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 23 }
                }
                localization_key = "Amazon"
            }
        }

        defined_text = {
            name = GetCorpBeginning
            text = {
                trigger = {
                    check_variable = { corp_first_name = 0 }
                }
                localization_key = "[This.GetName]"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 1 }
                }
                localization_key = "Oracle"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 2 }
                }
                localization_key = "Summit"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 3 }
                }
                localization_key = "Dynamic"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 4 }
                }
                localization_key = "Eclipse"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 5 }
                }
                localization_key = "Green"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 6 }
                }
                localization_key = "Eclipse"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 7 }
                }
                localization_key = "Reliance"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 8 }
                }
                localization_key = "Anthem"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 9 }
                }
                localization_key = "Charter"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 10 }
                }
                localization_key = "Abbot"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 11 }
                }
                localization_key = "Johnson"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 12 }
                }
                localization_key = "Caterpillar"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 13 }
                }
                localization_key = "General"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 14 }
                }
                localization_key = "Charles"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 15 }
                }
                localization_key = "Arkham"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 16 }
                }
                localization_key = "Stark"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 17 }
                }
                localization_key = "Orange"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 18 }
                }
                localization_key = "Wayne"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 19 }
                }
                localization_key = "Oliver"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 20 }
                }
                localization_key = "Luther"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 21 }
                }
                localization_key = "Union"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 22 }
                }
                localization_key = "Duke"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 23 }
                }
                localization_key = "Hammer"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 24 }
                }
                localization_key = "Staine"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 25 }
                }
                localization_key = "National"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 26 }
                }
                localization_key = "Total"
            }
            text = {
                trigger = {
                    check_variable = { corp_first_name = 27 }
                }
                localization_key = "Imperial"
            }
        }

        defined_text = {
            name = GetCorpEnding
            text = {
                trigger = {
                    check_variable = { corp_last_name = 0 }
                }
                localization_key = ""
            }
            text = {
                trigger = {
                    check_variable = { corp_last_name = 1 }
                }
                localization_key = corp_name_co
            }
            text = {
                trigger = {
                    check_variable = { corp_last_name = 2 }
                }
                localization_key = corp_name_inc
            }
            text = {
                trigger = {
                    check_variable = { corp_last_name = 3 }
                }
                localization_key = corp_name_ltd
            }
            text = {
                trigger = {
                    check_variable = { corp_last_name = 4 }
                }
                localization_key = corp_name_collective
            }
            text = {
                trigger = {
                    check_variable = { corp_last_name = 5 }
                }
                localization_key = corp_name_enterprises
            }
            text = {
                trigger = {
                    check_variable = { corp_last_name = 6 }
                }
                localization_key = corp_name_group
            }
            text = {
                trigger = {
                    check_variable = { corp_last_name = 7 }
                }
                localization_key = corp_name_industries
            }
            text = {
                trigger = {
                    check_variable = { corp_last_name = 8 }
                }
                localization_key = corp_name_solutions
            }
            text = {
                trigger = {
                    check_variable = { corp_last_name = 9 }
                }
                localization_key = corp_name_systems
            }
            text = {
                trigger = {
                    check_variable = { corp_last_name = 10 }
                }
                localization_key = corp_name_partners
            }
            text = {
                trigger = {
                    check_variable = { corp_last_name = 11 }
                }
                localization_key = corp_name_and_son
            }
            text = {
                trigger = {
                    check_variable = { corp_last_name = 12 }
                }
                localization_key = corp_name_works
            }
        }
    #
#

#Infrastructure
    defined_text = {
        name = GetInfrastructureCrumblingColor
        text = {
            trigger = {
                check_variable = { infrastructure_crumbling_ticks > 0 }
                check_variable = { infrastructure_industrial_goods_fulfilled_percentage < global.infrastructure_crumbling_threshold }
            }
            localization_key = red_loc
        }
        text = {
            trigger = {
                check_variable = { infrastructure_crumbling_ticks > 0 }
                NOT = { check_variable = { infrastructure_industrial_goods_fulfilled_percentage < global.infrastructure_crumbling_threshold } }
            }
            localization_key = yellow_loc
        }
    }
    defined_text = {
        name = GetInfrastructureCrumbling
        text = {
            trigger = {
                check_variable = { infrastructure_crumbling_ticks > 0 }
                check_variable = { infrastructure_industrial_goods_fulfilled_percentage < global.infrastructure_crumbling_threshold }
            }
            localization_key = infrastructure_crumbling_warning_tt
        }
        text = {
            trigger = {
                check_variable = { infrastructure_crumbling_ticks > 0 }
                NOT = { check_variable = { infrastructure_industrial_goods_fulfilled_percentage < global.infrastructure_crumbling_threshold } }
            }
            localization_key = infrastructure_restoring_warning_tt
        }
    }
#

#Budget
	defined_text = { # GetRevenueColor
		name = GetRevenueColor
		text = {
			trigger = {
				check_variable = { amount_temp < 0 }
			}
			localization_key = red_loc
		}
		text = {
			localization_key = green_loc
		}
	}
	defined_text = { # GetSpendingColor
		name = GetSpendingColor
		text = {
			trigger = {
				check_variable = { amount_temp > 0 }
			}
			localization_key = green_loc
		}
		text = {
			localization_key = red_loc
		}
	}
	defined_text = { # GetRevenueAmount
		name = GetRevenueAmount
		text = {
			localization_key = "[GetRevenueColor][GetAdjustedAmount]"
		}
	}
	defined_text = { # GetSpendingAmount
		name = GetSpendingAmount
		text = {
			trigger = {
				multiply_temp_variable = { amount_temp = -1 }
			}
			localization_key = "[GetSpendingColor][GetAdjustedAmount]"
		}
	}

	defined_text = { # GetTreasuryAmount
		name = GetTreasuryAmount
		text = {
			trigger = {
				has_variable = afr_prosperity_mechanic_value
			}
			localization_key = "[?afr_prosperity_mechanic_value|0]"
		}
		text = {
			trigger = {
				check_variable = { treasury > 99999.999 }
				set_temp_variable = { invest_temp = treasury }
				divide_temp_variable = { invest_temp = 1000 }
			}
			localization_key = "[?invest_temp|0]K"
		}
		text = {
			trigger = {
				check_variable = { treasury > 9999.999 }
				set_temp_variable = { invest_temp = treasury }
				divide_temp_variable = { invest_temp = 1000 }
			}
			localization_key = "[?invest_temp|1]K"
		}
		text = {
			trigger = {
				check_variable = { treasury > 999.999 }
				set_temp_variable = { invest_temp = treasury }
				divide_temp_variable = { invest_temp = 1000 }
			}
			localization_key = "[?invest_temp|2]K"
		}
		text = {
			trigger = {
				check_variable = { treasury > 99.999 }
			}
			localization_key = "[?treasury|0]"
		}
		text = {
			trigger = {
				check_variable = { treasury > 9.999 }
			}
			localization_key = "[?treasury|1]"
		}
		text = {
			trigger = {
				check_variable = { treasury > 0.999 }
			}
			localization_key = "[?treasury|2]"
		}
		text = {
			localization_key = "[?treasury|3]"
		}
	}
	defined_text = { # GetNetBudgetAmount
		name = GetNetBudgetAmount
		text = {
			trigger = {
				has_variable = afr_prosperity_mechanic_value
			}
			localization_key = ""
		}
		text = {
			trigger = {
				OR = {
					check_variable = { net_budget > 99999.999 }
					check_variable = { net_budget < -99999.999 }
				}
				set_temp_variable = { invest_temp = net_budget }
				divide_temp_variable = { invest_temp = 1000 }
			}
			localization_key = "[?invest_temp|=0]K"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { net_budget > 9999.999 }
					check_variable = { net_budget < -9999.999 }
				}
				set_temp_variable = { invest_temp = net_budget }
				divide_temp_variable = { invest_temp = 1000 }
			}
			localization_key = "[?invest_temp|=1]K"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { net_budget > 999.999 }
					check_variable = { net_budget < -999.999 }
				}
				set_temp_variable = { invest_temp = net_budget }
				divide_temp_variable = { invest_temp = 1000 }
			}
			localization_key = "[?invest_temp|=2]K"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { net_budget > 99.999 }
					check_variable = { net_budget < -99.999 }
				}
			}
			localization_key = "[?net_budget|=0]"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { net_budget > 9.999 }
					check_variable = { net_budget < -9.999 }
				}
			}
			localization_key = "[?net_budget|=1]"
		}
		text = {
			trigger = {
				OR = {
					check_variable = { net_budget > 0.999 }
					check_variable = { net_budget < -0.999 }
				}
			}
			localization_key = "[?net_budget|=2]"
		}
		text = {
			localization_key = "[?net_budget|=3]"
		}
	}
	defined_text = { # GetNetBudgetColor
		name = GetNetBudgetColor
		text = {
			trigger = {
				check_variable = { net_budget > 0 }
			}
			localization_key = green_loc
		}
		text = {
			trigger = {
				check_variable = { net_budget < 0 }
			}
			localization_key = red_loc
		}
		text = {
			localization_key = yellow_loc
		}
	}

	defined_text = { # GetUpperStrataIncomeTaxRevenue
		name = GetUpperStrataIncomeTaxRevenue
		text = {
			trigger = {
				set_temp_variable = { amount_temp = income_tax_upper_strata_revenue }
			}
			localization_key = "[GetRevenueAmount]"
		}
	}
	defined_text = { # GetMiddleStrataIncomeTaxRevenue
		name = GetMiddleStrataIncomeTaxRevenue
		text = {
			trigger = {
				set_temp_variable = { amount_temp = income_tax_middle_strata_revenue }
			}
			localization_key = "[GetRevenueAmount]"
		}
	}
	defined_text = { # GetLowerStrataIncomeTaxRevenue
		name = GetLowerStrataIncomeTaxRevenue
		text = {
			trigger = {
				set_temp_variable = { amount_temp = income_tax_lower_strata_revenue }
			}
			localization_key = "[GetRevenueAmount]"
		}
	}
	defined_text = { # GetIncomeTaxRevenue
		name = GetIncomeTaxRevenue
		text = {
			trigger = {
				set_temp_variable = { amount_temp = income_tax_revenue }
			}
			localization_key = "[GetRevenueAmount]"
		}
	}
	defined_text = { # GetSalesTaxRevenue
		name = GetSalesTaxRevenue
		text = {
			trigger = {
				set_temp_variable = { amount_temp = sales_tax_revenue }
			}
			localization_key = "[GetRevenueAmount]"
		}
	}
	defined_text = { # GetCorporateTaxRevenue
		name = GetCorporateTaxRevenue
		text = {
			trigger = {
				set_temp_variable = { amount_temp = corporate_tax_revenue }
			}
			localization_key = "[GetRevenueAmount]"
		}
	}
	defined_text = { # GetOtherRevenue
		name = GetOtherRevenue
		text = {
			trigger = {
				set_temp_variable = { amount_temp = other_revenue }
			}
			localization_key = "[GetRevenueAmount]"
		}
	}
	defined_text = { # GetPublicEnterpriseRevenue
		name = GetPublicEnterpriseRevenue
		text = {
			trigger = {
				set_temp_variable = { amount_temp = public_enterprise_revenue }
			}
			localization_key = "[GetRevenueAmount]"
		}
	}
	defined_text = { # GetModifierRevenue
		name = GetModifierRevenue
		text = {
			trigger = {
				set_temp_variable = { amount_temp = modifier_revenue }
			}
			localization_key = "[GetRevenueAmount]"
		}
	}
	defined_text = { # GetRevenue
		name = GetRevenue
		text = {
			trigger = {
				set_temp_variable = { amount_temp = revenue }
			}
			localization_key = "[GetRevenueAmount]"
		}
	}

	defined_text = { # GetUpperStrataIncomeTaxCorruption
		name = GetUpperStrataIncomeTaxCorruption
		text = {
			trigger = {
				set_temp_variable = { amount_temp = income_tax_upper_strata_corruption }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetMiddleStrataIncomeTaxCorruption
		name = GetMiddleStrataIncomeTaxCorruption
		text = {
			trigger = {
				set_temp_variable = { amount_temp = income_tax_middle_strata_corruption }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetLowerStrataIncomeTaxCorruption
		name = GetLowerStrataIncomeTaxCorruption
		text = {
			trigger = {
				set_temp_variable = { amount_temp = income_tax_lower_strata_corruption }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetIncomeTaxCorruption
		name = GetIncomeTaxCorruption
		text = {
			trigger = {
				set_temp_variable = { amount_temp = income_tax_corruption }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetIncomeTaxCorruption
		name = GetIncomeTaxCorruption
		text = {
			trigger = {
				set_temp_variable = { amount_temp = income_tax_corruption }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetSalesTaxCorruption
		name = GetSalesTaxCorruption
		text = {
			trigger = {
				set_temp_variable = { amount_temp = sales_tax_corruption }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetCorporateTaxCorruption
		name = GetCorporateTaxCorruption
		text = {
			trigger = {
				set_temp_variable = { amount_temp = corporate_tax_corruption }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetOtherCorruption
		name = GetOtherCorruption
		text = {
			trigger = {
				set_temp_variable = { amount_temp = other_corruption }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetPublicEnterpriseCorruption
		name = GetPublicEnterpriseCorruption
		text = {
			trigger = {
				set_temp_variable = { amount_temp = public_enterprise_corruption }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetModifierCorruption
		name = GetModifierCorruption
		text = {
			trigger = {
				set_temp_variable = { amount_temp = modifier_corruption }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetCorruption
		name = GetCorruption
		text = {
			trigger = {
				set_temp_variable = { amount_temp = corruption }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetTaxEffectsLoc
		name = GetTaxEffectsLoc
		text = {
			localization_key = "tax_effects_loc"
		}
	}

	defined_text = { # GetImportTariffs
		name = GetImportTariffs
		text = {
			trigger = {
				set_temp_variable = { amount_temp = import_tariffs }
			}
			localization_key = "[GetPositiveAdjustedAmount]"
		}
	}
	defined_text = { # GetExportTariffs
		name = GetExportTariffs
		text = {
			trigger = {
				set_temp_variable = { amount_temp = export_tariffs }
			}
			localization_key = "[GetPositiveAdjustedAmount]"
		}
	}
	defined_text = { # GetNetTariffs
		name = GetNetTariffs
		text = {
			trigger = {
				set_temp_variable = { amount_temp = net_tariffs }
			}
			localization_key = "[GetPositiveAdjustedAmount]"
		}
	}

	defined_text = { # GetImportTariffsCorruption
		name = GetImportTariffsCorruption
		text = {
			trigger = {
				set_temp_variable = { amount_temp = import_tariffs_corruption }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetExportTariffsCorruption
		name = GetExportTariffsCorruption
		text = {
			trigger = {
				set_temp_variable = { amount_temp = export_tariffs_corruption }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetTariffsCorruption
		name = GetTariffsCorruption
		text = {
			trigger = {
				set_temp_variable = { amount_temp = tariff_corruption }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}

	defined_text = { # GetMilitarySpending
		name = GetMilitarySpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = military_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetArmyMilitarySpending
		name = GetArmyMilitarySpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = military_army_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetNavyMilitarySpending
		name = GetNavyMilitarySpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = military_navy_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetAirforceMilitarySpending
		name = GetAirforceMilitarySpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = military_airforce_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetResearchSpending
		name = GetResearchSpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = research_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetConstructionSpending
		name = GetConstructionSpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = construction_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetProjectsSpending
		name = GetProjectsSpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = projects_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetSubsidiesSpending
		name = GetSubsidiesSpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = subsidies_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetDiscretionarySpending
		name = GetDiscretionarySpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = discretionary_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}

	defined_text = { # GetAdministrationSpending
		name = GetAdministrationSpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = administration_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetMilitaryMandatorySpending
		name = GetMilitaryMandatorySpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = military_mandatory_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetMilitaryPayrollSpending
		name = GetMilitaryPayrollSpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = military_payroll_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetMilitaryIndustrySpending
		name = GetMilitaryIndustrySpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = military_production_payroll_spending }
				add_to_temp_variable = { amount_temp = military_production_resources_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetMilitaryProductionPayrollSpending
		name = GetMilitaryProductionPayrollSpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = military_production_payroll_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetMilitaryProductionResourcesSpending
		name = GetMilitaryProductionResourcesSpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = military_production_resources_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetOrderAndIntelSpending
		name = GetOrderAndIntelSpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = order_and_intel_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetSocialSpending
		name = GetSocialSpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = social_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetEducationSpending
		name = GetEducationSpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = education_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetHealthcareSpending
		name = GetHealthcareSpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = healthcare_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetOtherSpending
		name = GetOtherSpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = other_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetPublicEnterprisePayrollSpending
		name = GetPublicEnterprisePayrollSpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = public_enterprise_payroll_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetModifierSpending
		name = GetModifierSpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = modifier_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetNationalDebtInterest
		name = GetNationalDebtInterest
		text = {
			trigger = {
				set_temp_variable = { amount_temp = national_debt_interest }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetMandatorySpending
		name = GetMandatorySpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = mandatory_spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}
	defined_text = { # GetSpending
		name = GetSpending
		text = {
			trigger = {
				set_temp_variable = { amount_temp = spending }
			}
			localization_key = "[GetSpendingAmount]"
		}
	}


	defined_text = { # GetBudgetGraphMax
		name = GetBudgetGraphMax
		text = {
			trigger = {
				set_temp_variable = { amount_temp = budget_graph_max }
			}
			localization_key = "[GetPositiveAdjustedAmount]"
		}
	}
	defined_text = { # GetBudgetGraphMin
		name = GetBudgetGraphMin
		text = {
			trigger = {
				set_temp_variable = { amount_temp = budget_graph_min }
			}
			localization_key = "[GetPositiveAdjustedAmount]"
		}
	}
#

#National Bank
	defined_text = {
		name = GetDebtLevelColor
		text = {
			trigger = {
				check_variable = { debt_level < 1 }
			}
			localization_key = white_loc
		}
		text = {
			trigger = {
				check_variable = { debt_level < 20 }
			}
			localization_key = yellow_loc
		}
		text = {
			localization_key = red_loc
		}
	}
	defined_text = {
		name = GetDebtAmount
		text = {
			trigger = {
				set_temp_variable = { debt_amount_temp = debt_level }
				divide_temp_variable = { debt_amount_temp = 2 }
				multiply_temp_variable = { debt_amount_temp = gdp_amount }
				check_variable = { debt_amount_temp < 1000 }
				check_variable = { gdp_amount < 10000 }
			}
			localization_key = "[?debt_amount_temp]"
		}
		text = {
			trigger = {
				set_temp_variable = { debt_amount_temp = debt_level }
				divide_temp_variable = { debt_amount_temp = 1000 }
				multiply_temp_variable = { debt_amount_temp = gdp_amount }
				divide_temp_variable = { debt_amount_temp = 2 }
			}
			localization_key = "[?debt_amount_temp]K"
		}
	}
	defined_text = {
		name = GetDebtToGDPRatio
		text = {
			trigger = {
				set_temp_variable = { debt_amount_temp = debt_level }
				divide_temp_variable = { debt_amount_temp = 24 }
			}
			localization_key = "[?debt_amount_temp|%]"
		}
	}
	defined_text = {
		name = GetMaxRepaymentAmount
		text = {
			trigger = {
				set_temp_variable = { treasury_temp = treasury }
				divide_temp_variable = { treasury_temp = 1000 }
				check_variable = { treasury_temp < national_debt_k }
			}
			localization_key = "[?treasury_temp]K"
		}
		text = {
			localization_key = "[?national_debt_k]K"
		}
	}
    #Borrowing Money
        defined_text = {
            name = GetBorrowMoneyIntroduction
            text = {
                trigger = {
                    check_variable = { ROOT.borrow_money_country = THIS }
                }
                localization_key = borrow_money_country_will_borrow
            }
            text = {
                localization_key = borrow_money_country_borrow
            }
        }
        defined_text = {
            name = GetBorrowMoneyAnyIntroduction
            text = {
                trigger = {
                    check_variable = { ROOT.borrow_money_country = 0 }
                }
                localization_key = borrow_money_country_will_borrow
            }
            text = {
                localization_key = borrow_money_country_borrow
            }
        }

        defined_text = {
            name = GetBorrowMoneyBank
            text = {
                trigger = {
                    tag = ROOT
                }
                localization_key = borrow_money_country_foreign_bank
            }
            text = {
                localization_key = borrow_money_country_domestic_bank
            }
        }
    #
    #Repay Debt
        defined_text = {
            name = GetRepayDebtIntroduction
            text = {
                trigger = {
                    check_variable = { ROOT.repay_debt_country = THIS }
                }
                localization_key = repay_debt_country_will_repay
            }
            text = {
                localization_key = repay_debt_country_repay
            }
        }
        defined_text = {
            name = GetRepayDebtAnyIntroduction
            text = {
                trigger = {
                    check_variable = { ROOT.repay_debt_country = 0 }
                }
                localization_key = repay_debt_country_will_repay
            }
            text = {
                localization_key = repay_debt_country_repay
            }
        }

        defined_text = {
            name = GetRepayDebtBank
            text = {
                trigger = {
                    tag = ROOT
                }
                localization_key = repay_debt_country_foreign_bank
            }
            text = {
                localization_key = repay_debt_country_domestic_bank
            }
        }
    #
#

#Trade
	#Macro Section
		#GetSelectedResource
			defined_text = {
				name = GetSelectedResource
				text = {
					trigger = {
						is_in_array = { global.resource_token_array = selected_resource }
					}
					localization_key = "[?selected_resource.GetTokenLocalizedKey]"
				}
				text = {
					trigger = {
						has_country_flag = new_trade_route_view_open
					}
					localization_key = "selected_resource_choose_loc"
				}
				text = {
					localization_key = "selected_resource_all_loc"
				}
			}
		#
		#GetSelectedResourceIcon
			defined_text = {
				name = GetSelectedResourceIcon
				text = {
					trigger = {
						is_in_array = { global.resource_token_array = selected_resource }
					}
					localization_key = "GFX_[?selected_resource.GetTokenKey]"
				}
				text = {
					localization_key = "GFX_gdp_icon"
				}
			}
		#
		#GetSelectedResourceTrade
			defined_text = {
				name = GetSelectedResourceTrade
				text = {
					trigger = {
						NOT = {
							is_in_array = { global.resource_token_array = selected_resource }
						}
					}
					localization_key = "selected_resource_choose_loc"
				}
				text = {
					trigger = {
						check_variable = { offers@var:selected_resource < 0 }
						check_variable = { offers@var:selected_resource = trade@var:selected_resource }
						set_temp_variable = { tmp = offers@var:selected_resource }
						multiply_temp_variable = { tmp = -1 }
					}
					localization_key = "net_exporting"
				}
				text = {
					trigger = {
						check_variable = { offers@var:selected_resource < 0 }
						set_temp_variable = { tmp = offers@var:selected_resource }
						multiply_temp_variable = { tmp = -1 }
						set_temp_variable = { percent_temp = trade@var:selected_resource }
						divide_temp_variable = { percent_temp = offers@var:selected_resource }
					}
					localization_key = "net_exporting_capped"
				}
				text = {
					trigger = {
						check_variable = { offers@var:selected_resource > 0 }
						check_variable = { offers@var:selected_resource = trade@var:selected_resource }
					}
					localization_key = "net_importing"
				}
				text = {
					trigger = {
						check_variable = { offers@var:selected_resource > 0 }
						set_temp_variable = { percent_temp = trade@var:selected_resource }
						divide_temp_variable = { percent_temp = offers@var:selected_resource }
					}
					localization_key = "net_importing_capped"
				}
				text = {
					localization_key = "net_no_trade"
				}
			}
			defined_text = {
				name = GetSelectedResourceTradeActual
				text = {
					trigger = {
						check_variable = { offers@var:selected_resource < 0 }
						set_temp_variable = { tmp = trade@var:selected_resource }
						multiply_temp_variable = { tmp = -1 }
					}
					localization_key = "[?tmp]"
				}
				text = {
					trigger = {
						check_variable = { offers@var:selected_resource > 0 }
					}
					localization_key = "[?trade@var:selected_resource]"
				}
				text = {
					localization_key = "net_no_trade"
				}
			}
		#
		#GetImportButton
			defined_text = {
				name = GetImportButton
				text = {
					trigger = {
						NOT = { has_country_flag = new_route_export }
						has_country_flag = new_trade_route_view_open
					}
					localization_key = "GFX_new_import_route_button_pressed"
				}
				text = {
					localization_key = "GFX_new_import_route_button"
				}
			}
		#
		#GetExportButton
			defined_text = {
				name = GetExportButton
				text = {
					trigger = {
						has_country_flag = new_route_export
						has_country_flag = new_trade_route_view_open
					}
					localization_key = "GFX_new_export_route_button_pressed"
				}
				text = {
					localization_key = "GFX_new_export_route_button"
				}
			}
		#
		#GetTradeAICheckbox
			defined_text = {
				name = GetTradeAICheckbox
				text = {
					trigger= {
						has_variable = trade_ai@var:selected_resource
					}
					localization_key = "GFX_generic_checkbox_unticked"
				}
				text = {
					localization_key = "GFX_generic_checkbox_ticked"
				}
			}
		#
	#
	#Trade/Market Screen
		#Balances
			#GetHighBalanceFirstIcon
				defined_text = {
					name = GetHighBalanceFirstIcon
					text = {
						trigger = {
							set_temp_variable = { hb_temp = high_balance_array^0 }
						}
						localization_key = "GFX_[?hb_temp.GetTokenKey]"
					}
				}
			#
			#GetHighBalanceFirstAmount
				defined_text = {
					name = GetHighBalanceFirstAmount
					text = {
						trigger = {
							check_variable = { high_balance_amount_array^0 > 1000 }
							set_temp_variable = { hb_temp = high_balance_amount_array^0 }
							divide_temp_variable = { hb_temp = 1000 }
						}
						localization_key = "[GetGreen]+[?hb_temp|3]K"
					}
					text = {
						trigger = {
							check_variable = { high_balance_amount_array^0 > 0 }
						}
						localization_key = "[GetGreen]+[?high_balance_amount_array^0|3]"
					}
					text = {
						trigger = {
							check_variable = { high_balance_amount_array^0 < -1000 }
							set_temp_variable = { hb_temp = high_balance_amount_array^0 }
							divide_temp_variable = { hb_temp = 1000 }
						}
						localization_key = "[GetRed][?hb_temp|3]K"
					}
					text = {
						trigger = {
							check_variable = { high_balance_amount_array^0 < 0 }
						}
						localization_key = "[GetRed][?high_balance_amount_array^0|3]"
					}
					text = {
						localization_key = "[GetYellow][?high_balance_amount_array^0|3]"
					}
				}
			#
			#GetHighBalanceSecondIcon
				defined_text = {
					name = GetHighBalanceSecondIcon
					text = {
						trigger = {
							set_temp_variable = { hb_temp = high_balance_array^1 }
						}
						localization_key = "GFX_[?hb_temp.GetTokenKey]"
					}
				}
			#
			#GetHighBalanceSecondAmount
				defined_text = {
					name = GetHighBalanceSecondAmount
					text = {
						trigger = {
							check_variable = { high_balance_amount_array^1 > 1000 }
							set_temp_variable = { hb_temp = high_balance_amount_array^1 }
							divide_temp_variable = { hb_temp = 1000 }
						}
						localization_key = "[GetGreen]+[?hb_temp|3]K"
					}
					text = {
						trigger = {
							check_variable = { high_balance_amount_array^1 > 0 }
						}
						localization_key = "[GetGreen]+[?high_balance_amount_array^1|3]"
					}
					text = {
						trigger = {
							check_variable = { high_balance_amount_array^1 < -1000 }
							set_temp_variable = { hb_temp = high_balance_amount_array^1 }
							divide_temp_variable = { hb_temp = 1000 }
						}
						localization_key = "[GetRed][?hb_temp|3]K"
					}
					text = {
						trigger = {
							check_variable = { high_balance_amount_array^1 < 0 }
						}
						localization_key = "[GetRed][?high_balance_amount_array^1|3]"
					}
					text = {
						localization_key = "[GetYellow][?high_balance_amount_array^1|3]"
					}
				}
			#
			#GetHighBalanceThirdIcon
				defined_text = {
					name = GetHighBalanceThirdIcon
					text = {
						trigger = {
							set_temp_variable = { hb_temp = high_balance_array^2 }
						}
						localization_key = "GFX_[?hb_temp.GetTokenKey]"
					}
				}
			#
			#GetHighBalanceThirdAmount
				defined_text = {
					name = GetHighBalanceThirdAmount
					text = {
						trigger = {
							check_variable = { high_balance_amount_array^2 > 1000 }
							set_temp_variable = { hb_temp = high_balance_amount_array^2 }
							divide_temp_variable = { hb_temp = 1000 }
						}
						localization_key = "[GetGreen]+[?hb_temp|3]K"
					}
					text = {
						trigger = {
							check_variable = { high_balance_amount_array^2 > 0 }
						}
						localization_key = "[GetGreen]+[?high_balance_amount_array^2|3]"
					}
					text = {
						trigger = {
							check_variable = { high_balance_amount_array^2 < -1000 }
							set_temp_variable = { hb_temp = high_balance_amount_array^2 }
							divide_temp_variable = { hb_temp = 1000 }
						}
						localization_key = "[GetRed][?hb_temp|3]K"
					}
					text = {
						trigger = {
							check_variable = { high_balance_amount_array^2 < 0 }
						}
						localization_key = "[GetRed][?high_balance_amount_array^2|3]"
					}
					text = {
						localization_key = "[GetYellow][?high_balance_amount_array^2|3]"
					}
				}
			#
			#GetHighBalanceFourthIcon
				defined_text = {
					name = GetHighBalanceFourthIcon
					text = {
						trigger = {
							set_temp_variable = { hb_temp = high_balance_array^3 }
						}
						localization_key = "GFX_[?hb_temp.GetTokenKey]"
					}
				}
			#
			#GetHighBalanceFourthAmount
				defined_text = {
					name = GetHighBalanceFourthAmount
					text = {
						trigger = {
							check_variable = { high_balance_amount_array^3 > 1000 }
							set_temp_variable = { hb_temp = high_balance_amount_array^3 }
							divide_temp_variable = { hb_temp = 1000 }
						}
						localization_key = "[GetGreen]+[?hb_temp|3]K"
					}
					text = {
						trigger = {
							check_variable = { high_balance_amount_array^3 > 0 }
						}
						localization_key = "[GetGreen]+[?high_balance_amount_array^3|3]"
					}
					text = {
						trigger = {
							check_variable = { high_balance_amount_array^3 < -1000 }
							set_temp_variable = { hb_temp = high_balance_amount_array^3 }
							divide_temp_variable = { hb_temp = 1000 }
						}
						localization_key = "[GetRed][?hb_temp|3]K"
					}
					text = {
						trigger = {
							check_variable = { high_balance_amount_array^3 < 0 }
						}
						localization_key = "[GetRed][?high_balance_amount_array^3|3]"
					}
					text = {
						localization_key = "[GetYellow][?high_balance_amount_array^3|3]"
					}
				}
			#
			#GetHighBalanceFifthIcon
				defined_text = {
					name = GetHighBalanceFifthIcon
					text = {
						trigger = {
							set_temp_variable = { hb_temp = high_balance_array^4 }
						}
						localization_key = "GFX_[?hb_temp.GetTokenKey]"
					}
				}
			#
			#GetHighBalanceFifthAmount
				defined_text = {
					name = GetHighBalanceFifthAmount
					text = {
						trigger = {
							check_variable = { high_balance_amount_array^4 > 1000 }
							set_temp_variable = { hb_temp = high_balance_amount_array^4 }
							divide_temp_variable = { hb_temp = 1000 }
						}
						localization_key = "[GetGreen]+[?hb_temp|3]K"
					}
					text = {
						trigger = {
							check_variable = { high_balance_amount_array^4 > 0 }
						}
						localization_key = "[GetGreen]+[?high_balance_amount_array^4|3]"
					}
					text = {
						trigger = {
							check_variable = { high_balance_amount_array^4 < -1000 }
							set_temp_variable = { hb_temp = high_balance_amount_array^4 }
							divide_temp_variable = { hb_temp = 1000 }
						}
						localization_key = "[GetRed][?hb_temp|3]K"
					}
					text = {
						trigger = {
							check_variable = { high_balance_amount_array^4 < 0 }
						}
						localization_key = "[GetRed][?high_balance_amount_array^4|3]"
					}
					text = {
						localization_key = "[GetYellow][?high_balance_amount_array^4|3]"
					}
				}
			#
			#GetLowBalanceFirstIcon
				defined_text = {
					name = GetLowBalanceFirstIcon
					text = {
						trigger = {
							set_temp_variable = { hb_temp = low_balance_array^0 }
						}
						localization_key = "GFX_[?hb_temp.GetTokenKey]"
					}
				}
			#
			#GetLowBalanceFirstAmount
				defined_text = {
					name = GetLowBalanceFirstAmount
					text = {
						trigger = {
							check_variable = { low_balance_amount_array^0 > 1000 }
							set_temp_variable = { hb_temp = low_balance_amount_array^0 }
							divide_temp_variable = { hb_temp = 1000 }
						}
						localization_key = "[GetGreen]+[?hb_temp|3]K"
					}
					text = {
						trigger = {
							check_variable = { low_balance_amount_array^0 > 0 }
						}
						localization_key = "[GetGreen]+[?low_balance_amount_array^0|3]"
					}
					text = {
						trigger = {
							check_variable = { low_balance_amount_array^0 < -1000 }
							set_temp_variable = { hb_temp = low_balance_amount_array^0 }
							divide_temp_variable = { hb_temp = 1000 }
						}
						localization_key = "[GetRed][?hb_temp|3]K"
					}
					text = {
						trigger = {
							check_variable = { low_balance_amount_array^0 < 0 }
						}
						localization_key = "[GetRed][?low_balance_amount_array^0|3]"
					}
					text = {
						localization_key = "[GetYellow][?low_balance_amount_array^0|3]"
					}
				}
			#
			#GetLowBalanceSecondIcon
				defined_text = {
					name = GetLowBalanceSecondIcon
					text = {
						trigger = {
							set_temp_variable = { hb_temp = low_balance_array^1 }
						}
						localization_key = "GFX_[?hb_temp.GetTokenKey]"
					}
				}
			#
			#GetLowBalanceSecondAmount
				defined_text = {
					name = GetLowBalanceSecondAmount
					text = {
						trigger = {
							check_variable = { low_balance_amount_array^1 > 1000 }
							set_temp_variable = { hb_temp = low_balance_amount_array^1 }
							divide_temp_variable = { hb_temp = 1000 }
						}
						localization_key = "[GetGreen]+[?hb_temp|3]K"
					}
					text = {
						trigger = {
							check_variable = { low_balance_amount_array^1 > 0 }
						}
						localization_key = "[GetGreen]+[?low_balance_amount_array^1|3]"
					}
					text = {
						trigger = {
							check_variable = { low_balance_amount_array^1 < -1000 }
							set_temp_variable = { hb_temp = low_balance_amount_array^1 }
							divide_temp_variable = { hb_temp = 1000 }
						}
						localization_key = "[GetRed][?hb_temp|3]K"
					}
					text = {
						trigger = {
							check_variable = { low_balance_amount_array^1 < 0 }
						}
						localization_key = "[GetRed][?low_balance_amount_array^1|3]"
					}
					text = {
						localization_key = "[GetYellow][?low_balance_amount_array^1|3]"
					}
				}
			#
			#GetLowBalanceThirdIcon
				defined_text = {
					name = GetLowBalanceThirdIcon
					text = {
						trigger = {
							set_temp_variable = { hb_temp = low_balance_array^2 }
						}
						localization_key = "GFX_[?hb_temp.GetTokenKey]"
					}
				}
			#
			#GetLowBalanceThirdAmount
				defined_text = {
					name = GetLowBalanceThirdAmount
					text = {
						trigger = {
							check_variable = { low_balance_amount_array^2 > 1000 }
							set_temp_variable = { hb_temp = low_balance_amount_array^2 }
							divide_temp_variable = { hb_temp = 1000 }
						}
						localization_key = "[GetGreen]+[?hb_temp|3]K"
					}
					text = {
						trigger = {
							check_variable = { low_balance_amount_array^2 > 0 }
						}
						localization_key = "[GetGreen]+[?low_balance_amount_array^2|3]"
					}
					text = {
						trigger = {
							check_variable = { low_balance_amount_array^2 < -1000 }
							set_temp_variable = { hb_temp = low_balance_amount_array^2 }
							divide_temp_variable = { hb_temp = 1000 }
						}
						localization_key = "[GetRed][?hb_temp|3]K"
					}
					text = {
						trigger = {
							check_variable = { low_balance_amount_array^2 < 0 }
						}
						localization_key = "[GetRed][?low_balance_amount_array^2|3]"
					}
					text = {
						localization_key = "[GetYellow][?low_balance_amount_array^2|3]"
					}
				}
			#
			#GetLowBalanceFourthIcon
				defined_text = {
					name = GetLowBalanceFourthIcon
					text = {
						trigger = {
							set_temp_variable = { hb_temp = low_balance_array^3 }
						}
						localization_key = "GFX_[?hb_temp.GetTokenKey]"
					}
				}
			#
			#GetLowBalanceFourthAmount
				defined_text = {
					name = GetLowBalanceFourthAmount
					text = {
						trigger = {
							check_variable = { low_balance_amount_array^3 > 1000 }
							set_temp_variable = { hb_temp = low_balance_amount_array^3 }
							divide_temp_variable = { hb_temp = 1000 }
						}
						localization_key = "[GetGreen]+[?hb_temp|3]K"
					}
					text = {
						trigger = {
							check_variable = { low_balance_amount_array^3 > 0 }
						}
						localization_key = "[GetGreen]+[?low_balance_amount_array^3|3]"
					}
					text = {
						trigger = {
							check_variable = { low_balance_amount_array^3 < -1000 }
							set_temp_variable = { hb_temp = low_balance_amount_array^3 }
							divide_temp_variable = { hb_temp = 1000 }
						}
						localization_key = "[GetRed][?hb_temp|3]K"
					}
					text = {
						trigger = {
							check_variable = { low_balance_amount_array^3 < 0 }
						}
						localization_key = "[GetRed][?low_balance_amount_array^3|3]"
					}
					text = {
						localization_key = "[GetYellow][?low_balance_amount_array^3|3]"
					}
				}
			#
			#GetLowBalanceFifthIcon
				defined_text = {
					name = GetLowBalanceFifthIcon
					text = {
						trigger = {
							set_temp_variable = { hb_temp = low_balance_array^4 }
						}
						localization_key = "GFX_[?hb_temp.GetTokenKey]"
					}
				}
			#
			#GetLowBalanceFifthAmount
				defined_text = {
					name = GetLowBalanceFifthAmount
					text = {
						trigger = {
							check_variable = { low_balance_amount_array^4 > 1000 }
							set_temp_variable = { hb_temp = low_balance_amount_array^4 }
							divide_temp_variable = { hb_temp = 1000 }
						}
						localization_key = "[GetGreen]+[?hb_temp|3]K"
					}
					text = {
						trigger = {
							check_variable = { low_balance_amount_array^4 > 0 }
						}
						localization_key = "[GetGreen]+[?low_balance_amount_array^4|3]"
					}
					text = {
						trigger = {
							check_variable = { low_balance_amount_array^4 < -1000 }
							set_temp_variable = { hb_temp = low_balance_amount_array^4 }
							divide_temp_variable = { hb_temp = 1000 }
						}
						localization_key = "[GetRed][?hb_temp|3]K"
					}
					text = {
						trigger = {
							check_variable = { low_balance_amount_array^4 < 0 }
						}
						localization_key = "[GetRed][?low_balance_amount_array^4|3]"
					}
					text = {
						localization_key = "[GetYellow][?low_balance_amount_array^4|3]"
					}
				}
			#
		#
		#Resource List
			#GetSelectedMarketAdjective
				defined_text = {
					name = GetSelectedMarketAdjective
					text = {
						trigger = {
							check_variable = { selected_market = 0 }
						}
						localization_key = global_market_adjective
					}
					text = {
						localization_key = national_market_adjective
					}
				}
			#
			#GetSelectedMarketSize
				defined_text = {
					name = GetSelectedMarketSize
					text = {
						trigger = {
							check_variable = { selected_market = 0 }
						}
						localization_key = market_screen_size_global
					}
					text = {
						trigger = {
							check_variable = { selected_market:market_countries^num > 1 }
						}
						localization_key = market_screen_size_plural
					}
					text = {
						localization_key = market_screen_size_singular
					}
				}
			#
			#GetSelectedMarketGDP
				defined_text = {
					name = GetSelectedMarketGDP
					text = {
						trigger = {
							check_variable = { selected_market = 0 }
						}
						localization_key = "[?global.gdp]K"
					}
					text = {
						trigger = {
							check_variable = { selected_market:market_gdp > 1000 }
							set_temp_variable = { gdp_temp = selected_market:market_gdp }
							divide_temp_variable = { gdp_temp = 1000 }
						}
						localization_key = "[?gdp_temp]K"
					}
					text = {
						localization_key = "[?selected_market:market_gdp]"
					}
				}
			#
			#GetSelectedMarketCapital
				defined_text = {
					name = GetSelectedMarketCapital
					text = {
						trigger = {
							check_variable = { selected_market = 0 }
						}
						localization_key = global_market_capital
					}
					text = {
						localization_key = national_market_capital
					}
				}
			#
			#Get[Type]ResourcesButton
				defined_text = {
					name = GetNaturalResourcesButton
					text = {
						trigger = {
							has_country_flag = resource_list_natural_resources_filter
						}
						localization_key = "GFX_market_natural_resources_filter_active"
					}
					text = {
						localization_key = "GFX_market_natural_resources_filter"
					}
				}
				defined_text = {
					name = GetProducedResourcesButton
					text = {
						trigger = {
							has_country_flag = resource_list_produced_resources_filter
						}
						localization_key = "GFX_market_produced_resources_filter_active"
					}
					text = {
						localization_key = "GFX_market_produced_resources_filter"
					}
				}
				defined_text = {
					name = GetServiceResourcesButton
					text = {
						trigger = {
							has_country_flag = resource_list_service_resources_filter
						}
						localization_key = "GFX_market_service_resources_filter_active"
					}
					text = {
						localization_key = "GFX_market_service_resources_filter"
					}
				}
				defined_text = {
					name = GetMilitaryResourcesButton
					text = {
						trigger = {
							has_country_flag = resource_list_military_resources_filter
						}
						localization_key = "GFX_market_military_resources_filter_active"
					}
					text = {
						localization_key = "GFX_market_military_resources_filter"
					}
				}
			#

			#GetResourceListFlag
				defined_text = {
					name = GetResourceListFlag
					text = {
						trigger = {
							check_variable = { selected_market > 0 }
						}
						localization_key = "[?selected_market.GetFlag]"
					}
					text = {
						localization_key = "[THIS.GetFlag]"
					}
				}
			#
			#GetResourceListBackground
				defined_text = {
					name = GetResourceListBackground
					text = {
						trigger = {
							is_in_array = { global.non_tradeable_resources = v }
						}
						localization_key = "GFX_trade_resource_background"
					}
					text = {
						trigger = {
							if = {
								limit = {
									check_variable = { selected_market = 0 }
								}
								check_variable = { global_market_balance@var:v > 0 }
							}
							else = {
								check_variable = { balance@var:v > 0 }
							}
						}
						localization_key = "GFX_trade_resource_background_green"
					}
					text = {
						localization_key = "GFX_trade_resource_background_red"
					}
				}
			#
			#GetResourceListIcon
				defined_text = {
					name = GetResourceListIcon
					text = {
						localization_key = "GFX_[?v.GetTokenKey]"
					}
				}
			#
			#GetResourceListTextIcon
				defined_text = {
					name = GetResourceListTextIcon
					text = {
						localization_key = "GFX_[?v.GetTokenKey]_texticon"
					}
				}
			#
			#GetResourceListSupply
				defined_text = {
					name = GetResourceListSupply
					text = {
						trigger = {
							if = {
								limit = {
									check_variable = { selected_market = 0 }
								}
								check_variable = { global_market_supply@var:v > 1000 }
								set_temp_variable = { a_temp = global_market_supply@var:v }
								divide_temp_variable = { a_temp = 1000 }
							}
							else = {
								check_variable = { selected_market:supply@var:v > 1000 }
								set_temp_variable = { a_temp = selected_market:supply@var:v }
								divide_temp_variable = { a_temp = 1000 }
							}
						}
						localization_key = "[?a_temp|3]K"
					}
					text = {
						trigger = {
							if = {
								limit = {
									check_variable = { selected_market = 0 }
								}
								set_temp_variable = { b_temp = global_market_supply@var:v }
							}
							else = {
								set_temp_variable = { b_temp = selected_market:supply@var:v }
							}
						}
						localization_key = "[?b_temp|3]"
					}
				}
			#
			#GetResourceListDemand
				defined_text = {
					name = GetResourceListDemand
					text = {
						trigger = {
							if = {
								limit = {
									check_variable = { selected_market = 0 }
								}
								check_variable = { global_market_demand@var:v > 1000 }
								set_temp_variable = { a_temp = global_market_demand@var:v }
								divide_temp_variable = { a_temp = 1000 }
							}
							else = {
								check_variable = { selected_market:demand@var:v > 1000 }
								set_temp_variable = { a_temp = selected_market:demand@var:v }
								divide_temp_variable = { a_temp = 1000 }
							}
						}
						localization_key = "[?a_temp|3]K"
					}
					text = {
						trigger= {
							if = {
								limit = {
									check_variable = { selected_market = 0 }
								}
								set_temp_variable = { b_temp = global_market_demand@var:v }
							}
							else = {
								set_temp_variable = { b_temp = selected_market:demand@var:v }
							}
						}
						localization_key = "[?b_temp|3]"
					}
				}
			#
			#GetResourceListBalance
				defined_text = {
					name = GetResourceListBalance
					text = {
						trigger = {
							if = {
								limit = {
									check_variable = { selected_market = 0 }
								}
								check_variable = { global_market_balance@var:v > 1000 }
								set_temp_variable = { ba_temp = global_market_balance@var:v }
								divide_temp_variable = { ba_temp = 1000 }
								set_temp_variable = { bb_temp = global_market_balance@var:v }
							}
							else = {
								check_variable = { selected_market:balance@var:v > 1000 }
								set_temp_variable = { ba_temp = selected_market:balance@var:v }
								divide_temp_variable = { ba_temp = 1000 }
								set_temp_variable = { bb_temp = selected_market:balance@var:v }
							}
						}
						localization_key = "[GetGreen]+[?ba_temp|3]K"
					}
					text = {
						trigger = {
							if = {
								limit = {
									check_variable = { selected_market = 0 }
								}
								set_temp_variable = { ba_temp = global_market_balance@var:v }
								divide_temp_variable = { ba_temp = 1000 }
								set_temp_variable = { bb_temp = global_market_balance@var:v }
							}
							else = {
								set_temp_variable = { ba_temp = selected_market:balance@var:v }
								divide_temp_variable = { ba_temp = 1000 }
								set_temp_variable = { bb_temp = selected_market:balance@var:v }
							}
							check_variable = { bb_temp > 0 }
						}
						localization_key = "[GetGreen]+[?bb_temp|3]"
					}
					text = {
						trigger = {
							check_variable = { bb_temp < -1000 }
						}
						localization_key = "[GetRed][?ba_temp|3]K"
					}
					text = {
						trigger = {
							check_variable = { bb_temp < 0 }
						}
						localization_key = "[GetRed][?bb_temp|3]"
					}
					text = {
						localization_key = "[GetYellow][?bb_temp|3]"
					}
				}
			#
			#GetResourceListPrice
				defined_text = {
					name = GetResourceListPrice
					text = {
						trigger = {
							if = {
								limit = {
									check_variable = { selected_market = 0 }
								}
								set_temp_variable = { a_temp = global_market_price@var:v }
							}
							else = {
								set_temp_variable = { a_temp = selected_market:price@var:v }
							}
						}
						localization_key = "[?a_temp|3]"
					}
				}
			#
			#GetResourceListPriceIcon
				defined_text = {
					name = GetResourceListPriceIcon
					text = {
						trigger = {
							if = {
								limit = {
									check_variable = { selected_market = 0 }
								}
								set_temp_variable = { selected_p = global_market_price@var:v }
								divide_temp_variable = { selected_p = global.base_price@var:v }
							}
							else = {
								set_temp_variable = { selected_p = selected_market:price@var:v }
								divide_temp_variable = { selected_p = global.base_price@var:v }
							}
							check_variable = { selected_p < global.very_cheap_price }
						}
						localization_key = "GFX_price_very_cheap"
					}
					text = {
						trigger = {
							check_variable = { selected_p < global.cheap_price }
						}
						localization_key = "GFX_price_cheap"
					}
					text = {
						trigger = {
							check_variable = { selected_p < global.slightly_cheap_price }
						}
						localization_key = "GFX_price_slightly_cheap"
					}
					text = {
						trigger = {
							check_variable = { selected_p < global.slightly_expensive_price }
						}
						localization_key = "GFX_price_average"
					}
					text = {
						trigger = {
							check_variable = { selected_p < global.expensive_price }
						}
						localization_key = "GFX_price_slightly_expensive"
					}
					text = {
						trigger = {
							check_variable = { selected_p < global.very_expensive_price }
						}
						localization_key = "GFX_price_expensive"
					}
					text = {
						localization_key = "GFX_price_very_expensive"
					}
				}
			#
			#GetResourceListRelativePrice
				defined_text = {
					name = GetResourceListRelativePrice
					text = {
						trigger = {
							if = {
								limit = {
									check_variable = { selected_market = 0 }
								}
								set_temp_variable = { a_temp = global_market_price_compared_to_base@var:v }
							}
							else = {
								set_temp_variable = { a_temp = selected_market:price_compared_to_base@var:v }
							}
						}
						localization_key = "[?a_temp|-=%2]"
					}
				}
			#
		#
		#New Trade Route
			#GetNewRouteResource
				defined_text = {
					name = GetNewRouteResource
					text = {
						trigger = {
							is_in_array = { global.resources_token_array = selected_resource }
						}
						localization_key = "[?selected_resource.GetTokenLocalizedKey]"
					}
					text = {
						localization_key = "new_route_resource_choose_loc"
					}
				}
			#
			#GetNewRouteResourceIcon
				defined_text = {
					name = GetNewRouteResourceIcon
					text = {
						localization_key = "GFX_[?selected_resource.GetTokenKey]"
					}
				}
			#
			#GetNewRouteImporterFlag
				defined_text = {
					name = GetNewRouteImporterFlag
					text = {
						trigger = {
							NOT = { has_country_flag = new_route_export } #Import
						}
						localization_key = "[THIS.GetFlag]"
					}
					text = {
						trigger = {
							set_temp_variable = { tr_c_temp = new_route_list_country_array^i }
						}
						localization_key = "[?tr_c_temp.GetFlag]" #Export
					}
				}
			#
			#GetNewRouteExporterFlag
				defined_text = {
					name = GetNewRouteExporterFlag
					text = {
						trigger = {
							NOT = { has_country_flag = new_route_export } #Import
							set_temp_variable = { tr_c_temp = new_route_list_country_array^i }
						}
						localization_key = "[?tr_c_temp.GetFlag]"
					}
					text = {
						localization_key = "[THIS.GetFlag]" #Export
					}
				}
			#
			#GetNewRouteProductivity
				defined_text = {
					name = GetNewRouteProductivity
					text = {
						trigger = {
							set_temp_variable = { tr_temp = new_route_list_productivity_array^i }
							check_variable = { tr_temp > 0 }
						}
						localization_key = "[GetGreen]+$[?tr_temp|3]"
					}
					text = {
						trigger = {
							check_variable = { tr_temp < 0 }
							multiply_temp_variable = { tr_temp = -1 }
						}
						localization_key = "[GetRed]-$[?tr_temp|3]"
					}
					text = {
						trigger = {
							check_variable = { tr_temp = 0 }
						}
						localization_key = "[GetYellow]$[?tr_temp|3]"
					}
				}
			#
			#GetNewRouteAmount
				defined_text = {
					name = GetNewRouteAmount
					text = {
						trigger = {
							has_country_flag = new_route_export
						}
						localization_key = "-[?global.shipping_amount@var:selected_resource|3]"
					}
					text = {
						localization_key = "+[?global.shipping_amount@var:selected_resource|3]"
					}
				}
			#
		#
		#Trade Routes
			#GetTradeRouteResourceName
				defined_text = {
					name = GetTradeRouteResourceName
					text = {
						trigger = {
							set_temp_variable = { tr_temp = v }
						}
						localization_key = "[?tr_temp.GetTokenLocalizedKey]"
					}
				}
			#
			#GetTradeRouteResourceTextIcon
				defined_text = {
					name = GetTradeRouteResourceTextIcon
					text = {
						trigger = {
							set_temp_variable = { tr_temp = v }
						}
						localization_key = "GFX_[?tr_temp.GetTokenKey]_texticon"
					}
				}
			#
			#GetTradeRouteResourceIcon
				defined_text = {
					name = GetTradeRouteResourceIcon
					text = {
						trigger = {
							set_temp_variable = { tr_temp = v }
						}
						localization_key = "GFX_[?tr_temp.GetTokenKey]"
					}
				}
			#
			defined_text = { # GetTradeRouteAmountAbsVal
				name = GetTradeRouteAmountAbsVal
				text = {
					trigger = {
						set_temp_variable = { amount_temp = trade@var:v }
						if = {
							limit = {
								check_variable = { amount_temp < 0 }
							}
							multiply_temp_variable = { amount_temp = -1 }
						}
					}
					localization_key = "[GetAdjustedAmount]"
				}
			}
			defined_text = { # GetTradeRouteAmount
				name = GetTradeRouteAmount
				text = {
					trigger = {
						set_temp_variable = { amount_temp = trade@var:v }
					}
					localization_key = "[GetAdjustedAmount]"
				}
			}
			defined_text = { # GetTradeRouteAmountCapped
				name = GetTradeRouteAmountCapped
				text = {
					trigger = {
						check_variable = { offers@var:v = trade@var:v }
					}
					localization_key = "trade_route_amount_trade"
				}
				text = {
					localization_key = "trade_route_amount_trade_capped"
				}
			}
			defined_text = { # GetTradeRoutePortion
				name = GetTradeRoutePortion
				text = {
					trigger = {
						set_temp_variable = { percent_temp = trade@var:v }
						divide_temp_variable = { percent_temp = offers@var:v }
						check_variable = { percent_temp < 0.75 }
					}
					localization_key = "[?percent_temp|%R0]"
				}
				text = {
					trigger = {
						check_variable = { percent_temp < 1 }
					}
					localization_key = "[?percent_temp|%g0]"
				}
				text = {
					localization_key = "[?percent_temp|%G0]"
				}
			}
			defined_text = { # GetTradeRouteOffers
				name = GetTradeRouteOffers
				text = {
					trigger = {
						set_temp_variable = { amount_temp = offers@var:v }
					}
					localization_key = "[GetAdjustedAmount]"
				}
			}
			defined_text = { # GetTradeRouteSupply
				name = GetTradeRouteSupply
				text = {
					trigger = {
						set_temp_variable = { amount_temp = trade_supply@var:v }
					}
					localization_key = "[GetAdjustedAmount]"
				}
			}
			defined_text = { # GetTradeRouteDemand
				name = GetTradeRouteDemand
				text = {
					trigger = {
						set_temp_variable = { amount_temp = trade_demand@var:v }
					}
					localization_key = "[GetAdjustedAmount]"
				}
			}
			defined_text = { # GetTradeRouteProductivity
				name = GetTradeRouteProductivity
				text = {
					trigger = {
						set_temp_variable = { amount_temp = trade_productivity@var:v }
					}
					localization_key = "[GetPositiveAdjustedAmount]"
				}
			}
			defined_text = { # GetTradeRouteGoodsRevenue
				name = GetTradeRouteGoodsRevenue
				text = {
					trigger = {
						set_temp_variable = { amount_temp = trade@var:v }
						if = {
							limit = {
								check_variable = { amount_temp > 0 }
							}
							multiply_temp_variable = { amount_temp = price@var:v }
						}
						else = {
							multiply_temp_variable = { amount_temp = -1 }
							multiply_temp_variable = { amount_temp = global_market_price@var:v }
						}
					}
					localization_key = "[GetPositiveAdjustedAmount]"
				}
			}
			defined_text = { # GetTradeRouteGoodsExpense
				name = GetTradeRouteGoodsExpense
				text = {
					trigger = {
						set_temp_variable = { amount_temp = trade@var:v }
						if = {
							limit = {
								check_variable = { amount_temp > 0 }
							}
							multiply_temp_variable = { amount_temp = global_market_price@var:v }
							multiply_temp_variable = { amount_temp = -1 }
						}
						else = {
							multiply_temp_variable = { amount_temp = price@var:v }
						}
					}
					localization_key = "[GetPositiveAdjustedAmount]"
				}
			}
			defined_text = { # GetTradeRouteBuyPrice
				name = GetTradeRouteBuyPrice
				text = {
					trigger = {
						if = {
							limit = {
								check_variable = { trade@var:v > 0 }
							}
							set_temp_variable = { tr_temp = global_market_price@var:v }
						}
						else = {
							set_temp_variable = { tr_temp = price@var:v }
						}
					}
					localization_key = "[?tr_temp|2]"
				}
			}
			defined_text = { # GetTradeRouteSellPrice
				name = GetTradeRouteSellPrice
				text = {
					trigger = {
						if = {
							limit = {
								check_variable = { trade@var:v > 0 }
							}
							set_temp_variable = { tr_temp = price@var:v }
						}
						else = {
							set_temp_variable = { tr_temp = global_market_price@var:v }
						}
					}
					localization_key = "[?tr_temp|2]"
				}
			}
			defined_text = { # GetTradeRouteValue
				name = GetTradeRouteValue
				text = {
					trigger = {
						set_temp_variable = { amount_temp = trade_value@var:v }
					}
					localization_key = "[GetPositiveAdjustedAmount]"
				}
			}
			defined_text = { # GetTradeRouteTariffs
				name = GetTradeRouteTariffs
				text = {
					trigger = {
						set_temp_variable = { amount_temp = trade_tariffs@var:v }
						check_variable = { offers@var:v < 0 }
					}
					localization_key = "[GetPositiveAdjustedAmount]"
				}
				text = {
					trigger = {
						set_temp_variable = { amount_temp = trade_tariffs@var:v }
						multiply_temp_variable = { amount_temp = -1 }
					}
					localization_key = "[GetPositiveAdjustedAmount]"
				}
			}
			defined_text = { # GetTradeRouteProfit
				name = GetTradeRouteProfit
				text = {
					trigger = {
						set_temp_variable = { amount_temp = trade_profit@var:v }
					}
					localization_key = "[GetPositiveAdjustedAmount]"
				}
			}
			#GetTradeRoutePrice
				defined_text = {
					name = GetTradeRoutePrice
					text = {
						trigger = {
							#calculate cost
							set_temp_variable = { tr_cost_temp = trade_productivity@var:v }
							check_variable = { tr_cost_temp < 0.1 }
						}
						localization_key = "GFX_price_very_cheap_texticon"
					}
					text = {
						trigger = {
							check_variable = { tr_cost_temp < 0.3 }
						}
						localization_key = "GFX_price_cheap_texticon"
					}
					text = {
						trigger = {
							check_variable = { tr_cost_temp < 0.6 }
						}
						localization_key = "GFX_price_slightly_cheap_texticon"
					}
					text = {
						trigger = {
							check_variable = { tr_cost_temp < 1 }
						}
						localization_key = "GFX_price_average_texticon"
					}
					text = {
						trigger = {
							check_variable = { tr_temp < 2 }
						}
						localization_key = "GFX_price_slightly_expensive_texticon"
					}
					text = {
						trigger = {
							check_variable = { tr_cost_temp < 5 }
						}
						localization_key = "GFX_price_expensive_texticon"
					}
					text = {
						localization_key = "GFX_price_very_expensive_texticon"
					}
				}
			#
			#GetTradeRouteEmployeesPer1000
				defined_text = {
					name = GetTradeRouteEmployeesPer1000
					text = {
						trigger = {
							set_temp_variable = { tr_temp = 1000 }
							divide_temp_variable = { tr_temp = global.shipping_amount@var:v }
						}
						localization_key = "[?tr_temp|2]K"
					}
				}
			#
			defined_text = { # GetTradeRouteAutomationButton
				name = GetTradeRouteAutomationButton
				text = {
					trigger = {
						check_variable = { trade_ai@var:v = 0 }
					}
					localization_key = "GFX_automated_trade_button"
				}
				text = {
					localization_key = "GFX_manual_trade_button"
				}
			}
			defined_text = { # GetTradeRouteAutomationTooltip
				name = GetTradeRouteAutomationTooltip
				text = {
					trigger = {
						check_variable = { trade_ai@var:v = 0 }
					}
					localization_key = "trade_route_automation_enabled_tooltip"
				}
				text = {
					localization_key = "trade_route_automation_disabled_tooltip"
				}
			}
			defined_text = { # GetTradeRouteProductivityUpperBound
				name = GetTradeRouteProductivityUpperBound
				text = {
					trigger = {
						set_temp_variable = { amount_temp = workforce_earnings_avg }
						multiply_temp_variable = { amount_temp = 1.5 }
					}
					localization_key = "[GetPositiveAdjustedAmount]"
				}
			}
			defined_text = { # GetTradeRouteProductivityLowerBound
				name = GetTradeRouteProductivityLowerBound
				text = {
					trigger = {
						set_temp_variable = { amount_temp = workforce_earnings_avg }
						divide_temp_variable = { amount_temp = 2 }
					}
					localization_key = "[GetPositiveAdjustedAmount]"
				}
			}
		#
		#Market list
			#GetMarket[Filter]Checkbox
				defined_text = {
					name = GetMarketTradeableCheckbox
					text = {
						trigger = {
							has_country_flag = market_list_can_trade_filter
						}
						localization_key = "GFX_generic_checkbox_ticked"
					}
					text = {
						localization_key = "GFX_generic_checkbox_unticked"
					}
				}
				defined_text = {
					name = GetMarketAlliedCheckbox
					text = {
						trigger = {
							has_country_flag = market_list_allied_filter
						}
						localization_key = "GFX_generic_checkbox_ticked"
					}
					text = {
						localization_key = "GFX_generic_checkbox_unticked"
					}
				}
				defined_text = {
					name = GetMarketEnemyCheckbox
					text = {
						trigger = {
							has_country_flag = market_list_enemy_filter
						}
						localization_key = "GFX_generic_checkbox_ticked"
					}
					text = {
						localization_key = "GFX_generic_checkbox_unticked"
					}
				}
			#
			#GetMarketListBackground
				defined_text = {
					name = GetMarketListBackground
					text = {
						trigger = {
							check_variable = { v = market_capital:controller }
						}
						localization_key = "GFX_market_entry_background_green"
					}
					text = {
						trigger = {
							set_temp_variable = { country_temp = v }
							NOT = {
								can_trade_with = yes
							}
						}
						localization_key = "GFX_market_entry_background_red"
					}
					text = {
						localization_key = "GFX_market_entry_background"
					}
				}
			#
			#GetMarketListSize
				defined_text = {
					name = GetMarketListSize
					text = {
						trigger = {
							check_variable = { v:market_countries^num > 1 }
						}
						localization_key = market_entry_size_plural
					}
					text = {
						localization_key = market_entry_size_singular
					}
				}
			#
			#GetMarketListGDP
				defined_text = {
					name = GetMarketListGDP
					text = {
						trigger = {
							check_variable = { v:market_gdp > 1000 }
							set_temp_variable = { gdp_temp = v:market_gdp }
							divide_temp_variable = { gdp_temp = 1000 }
						}
						localization_key = "[?gdp_temp]K"
					}
					text = {
						localization_key = "[?v:market_gdp]"
					}
				}
			#
		#
	#
	# Markets
		defined_text = {
			name = GetMarket
			text = {
				trigger = {
					has_variable = market_leader
				}
				localization_key = "[?market_leader.GetAdjective] Market"
			}
			text = {
				localization_key = "[THIS.GetAdjective] Market"
			}
		}
		defined_text = {
			name = GetControllerMarket
			text = {
				trigger = {
					CONTROLLER = { has_variable = market_leader }
				}
				localization_key = "[?controller:market_leader.GetAdjective] Market"
			}
			text = {
				localization_key = "[?controller.GetAdjective] Market"
			}
		}
		defined_text = {
			name = GetMarketWithFlag
			text = {
				trigger = {
					has_variable = market_leader
				}
				localization_key = "[?market_leader] Market"
			}
			text = {
				localization_key = "[FROM.CONTROLLER.GetFlag] [GetAdjective] Market"
			}
		}
		defined_text = {
			name = GetControllerMarketWithFlag
			text = {
				trigger = {
					CONTROLLER = { has_variable = market_leader }
				}
				localization_key = "[?controller:market_leader.GetFlag] [?controller:market_leader.GetAdjective] Market"
			}
			text = {
				localization_key = "[?controller.GetFlag] [?controller.GetAdjective] Market"
			}
		}
		defined_text = {
			name = GetMarketLeader
			text = {
				trigger = {
					has_variable = market_leader
				}
				localization_key = "[?market_leader.GetName]"
			}
			text = {
				localization_key = "[GetName]"
			}
		}
		defined_text = {
			name = GetControllerMarketLeader
			text = {
				trigger = {
					CONTROLLER = { has_variable = market_leader }
				}
				localization_key = "[?controller:market_leader.GetName]"
			}
			text = {
				localization_key = "[?controller.GetName]"
			}
		}
		defined_text = {
			name = GetMarketLeaderAdjective
			text = {
				trigger = {
					has_variable = market_leader
				}
				localization_key = "[?market_leader.GetAdjective]"
			}
			text = {
				localization_key = "[THIS.GetAdjective]"
			}
		}
		defined_text = {
			name = GetControllerMarketLeaderAdjective
			text = {
				trigger = {
					CONTROLLER = { has_variable = market_leader }
				}
				localization_key = "[?controller:market_leader.GetAdjective]"
			}
			text = {
				localization_key = "[?controller.GetAdjective]"
			}
		}
		defined_text = {
			name = GetMarketCapital
			text = {
				trigger = {
					has_variable = market_capital
				}
				localization_key = "[?market_capital.GetCapitalVictoryPointName]"
			}
			text = {
				localization_key = "[?capital.GetCapitalVictoryPointName]"
			}
		}
		defined_text = {
			name = GetControllerMarketCapital
			text = {
				trigger = {
					CONTROLLER = { has_variable = market_capital }
				}
				localization_key = "[?controller:market_capital.GetCapitalVictoryPointName]"
			}
			text = {
				localization_key = "[?owner:capital.GetCapitalVictoryPointName]"
			}
		}
		defined_text = {
			name = GetMarketMembershipRank
			text = {
				trigger = {
					OR = {
						NOT = { has_variable = market_leader }
						check_variable = { market_leader = ROOT }
					}
				}
				localization_key = "Leader"
			}
			text = {
				trigger = { is_subject = yes }
				localization_key = "Satellite"
			}
			text = {
				localization_key = "Member"
			}
		}
		defined_text = {
			name = GetControllerMarketMembershipRank
			text = {
				trigger = {
					CONTROLLER = {
						OR = {
							NOT = { has_variable = market_leader }
							check_variable = { market_leader = THIS }
						}
					}
				}
				localization_key = "Leader"
			}
			text = {
				trigger = { controller = { is_subject = yes } }
				localization_key = "Satellite"
			}
			text = {
				localization_key = "Member"
			}
		}
		defined_text = {
			name = GetTradeStatus
			text = {
				trigger = {
					OR = {
						AND = {
							has_variable = market_leader
							ROOT = { has_variable = market_leader }
							check_variable = { market_leader = ROOT.market_leader }
						}
						check_variable = { market_leader = ROOT }
						check_variable = { ROOT:market_leader = THIS }
						has_war_together_with = ROOT
					}
				}
				localization_key = "In-Block"
			}
			text = {
				trigger = {
					set_temp_variable = { country_temp = THIS }
					ROOT = { can_trade_with = yes }
				}
				localization_key = "Accessible"
			}
			text = {
				trigger = {
					has_war_with = ROOT
				}
				localization_key = "Enemy"
			}
			text = {
				localization_key = "Not Accessible"
			}
		}
		defined_text = {
			name = GetControllerTradeStatus
			text = {
				trigger = {
					OR = {
						AND = {
							CONTROLLER = { has_variable = market_leader }
							ROOT = { has_variable = market_leader }
							check_variable = { CONTROLLER:market_leader = ROOT.market_leader }
						}
						check_variable = { CONTROLLER:market_leader = ROOT.id }
						check_variable = { ROOT:market_leader = CONTROLLER.id }
						CONTROLLER = { has_war_together_with = ROOT }
					}
				}
				localization_key = "In-Block"
			}
			text = {
				trigger = {
					set_temp_variable = { country_temp = controller }
					ROOT = { can_trade_with = yes }
				}
				localization_key = "Accessible"
			}
			text = {
				trigger = {
					controller = {
						has_war_with = ROOT
					}
				}
				localization_key = "Enemy"
			}
			text = {
				localization_key = "Not Accessible"
			}
		}
		defined_text = {
			name = GetMarketRankFrame
			text = {
				trigger = {
					is_great_power = yes
				}
				localization_key = "GFX_flag_power_tiny_04"
			}
			text = {
				trigger = {
					is_secondary_power = yes
				}
				localization_key = "GFX_flag_power_tiny_03"
			}
			text = {
				trigger = {
					is_minor_power = yes
				}
				localization_key = "GFX_flag_power_tiny_02"
			}
			text = {
				localization_key = "GFX_flag_power_tiny_01"
			}
		}
	#
#

#Topbar
	defined_text = {
        name = GetMoneyAmountTopbar
		text = {
            trigger = {
                set_temp_variable = {treasury_temp = treasury}
				divide_temp_variable = {treasury_temp = 1000000}
				check_variable = {treasury > 999999.99}
            }
            localization_key = "[?treasury_temp|2]M"
        }
        text = {
            trigger = {
                set_temp_variable = {treasury_temp = treasury}
				divide_temp_variable = {treasury_temp = 1000}
				check_variable = {treasury > 999.99}
            }
            localization_key = "[?treasury_temp|2]K"
        }
        text = {
            localization_key = "[?treasury|2]"
        }
    }
#

#Other
	#GetRed
		defined_text = {
			name = GetRed
			text = {
				localization_key = red_loc
			}
		}

	#GetGreen
		defined_text = {
			name = GetGreen
			text = {
				localization_key = green_loc
			}
		}

	#GetYellow
		defined_text = {
			name = GetYellow
			text = {
				localization_key = yellow_loc
			}
		}
#
#Why
	#GetProductionBudgetTitleTooltip
		defined_text = {
			name = GetProductionBudgetTitleTooltip
			text = {
				localization_key = production_budget_tt_tt
			}
		}
		defined_text = {
			name = GetProductionBudgetButtonTooltip
			text = {
				localization_key = prod_budget_button_tt_tt
			}
		}